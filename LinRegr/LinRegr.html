<!DOCTYPE html>
<html lang="en"><head>
<script src="LinRegr_files/libs/clipboard/clipboard.min.js"></script>
<script src="LinRegr_files/libs/quarto-html/tabby.min.js"></script>
<script src="LinRegr_files/libs/quarto-html/popper.min.js"></script>
<script src="LinRegr_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="LinRegr_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="LinRegr_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="LinRegr_files/libs/quarto-html/quarto-syntax-highlighting-dark-b758ccaa5987ceb1b75504551e579abf.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="LinRegr_files/libs/quarto-contrib/live-runtime/live-runtime.js" type="module"></script>
<link href="LinRegr_files/libs/quarto-contrib/live-runtime/live-runtime.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.8.26">

  <meta name="author" content="Carsten Lange">
  <title>Key Machine Learning Concepts — Explained with Linear Regression</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="LinRegr_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="LinRegr_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #f8f8f2;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #f8f8f2; } /* Normal */
    code span.al { color: #f07178; } /* Alert */
    code span.an { color: #d4d0ab; } /* Annotation */
    code span.at { color: #00e0e0; } /* Attribute */
    code span.bn { color: #d4d0ab; } /* BaseN */
    code span.bu { color: #abe338; } /* BuiltIn */
    code span.cf { color: #ffa07a; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #abe338; } /* Char */
    code span.cn { color: #ffd700; } /* Constant */
    code span.co { color: #f8f8f2; font-style: italic; } /* Comment */
    code span.cv { color: #ffd700; } /* CommentVar */
    code span.do { color: #f8f8f2; } /* Documentation */
    code span.dt { color: #ffa07a; } /* DataType */
    code span.dv { color: #d4d0ab; } /* DecVal */
    code span.er { color: #f07178; text-decoration: underline; } /* Error */
    code span.ex { color: #00e0e0; font-weight: bold; } /* Extension */
    code span.fl { color: #d4d0ab; } /* Float */
    code span.fu { color: #ffa07a; } /* Function */
    code span.im { color: #abe338; } /* Import */
    code span.in { color: #d4d0ab; } /* Information */
    code span.kw { color: #ffa07a; font-weight: bold; } /* Keyword */
    code span.op { color: #ffa07a; } /* Operator */
    code span.ot { color: #00e0e0; } /* Other */
    code span.pp { color: #dcc6e0; } /* Preprocessor */
    code span.re { color: #00e0e0; background-color: #f8f8f2; } /* RegionMarker */
    code span.sc { color: #abe338; } /* SpecialChar */
    code span.ss { color: #abe338; } /* SpecialString */
    code span.st { color: #abe338; } /* String */
    code span.va { color: #00e0e0; } /* Variable */
    code span.vs { color: #abe338; } /* VerbatimString */
    code span.wa { color: #dcc6e0; } /* Warning */
  </style>
  <link rel="stylesheet" href="LinRegr_files/libs/revealjs/dist/theme/quarto-92f953f199ed25aab29d366ec0d00847.css">
  <link href="LinRegr_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="LinRegr_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="LinRegr_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="LinRegr_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="LinRegr_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="LinRegr_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script type="module" src="LinRegr_files/libs/quarto-ojs/quarto-ojs-runtime.js"></script>
  <link href="LinRegr_files/libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">
  <link href="LinRegr_files/libs/htmltools-fill-0.5.9/fill.css" rel="stylesheet">

  <script src="LinRegr_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

  <script src="LinRegr_files/libs/plotly-binding-4.11.0/plotly.js"></script>

  <script src="LinRegr_files/libs/typedarray-0.1/typedarray.min.js"></script>

  <script src="LinRegr_files/libs/jquery-3.5.1/jquery.min.js"></script>

  <link href="LinRegr_files/libs/crosstalk-1.2.2/css/crosstalk.min.css" rel="stylesheet">

  <script src="LinRegr_files/libs/crosstalk-1.2.2/js/crosstalk.min.js"></script>

  <link href="LinRegr_files/libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">

  <script src="LinRegr_files/libs/plotly-main-2.11.1/plotly-latest.min.js"></script>

  <script src="LinRegr_files/libs/kePrint-0.0.1/kePrint.js"></script>

  <link href="LinRegr_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">

</head>
<body class="quarto-dark">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Key Machine Learning Concepts — Explained with Linear Regression</h1>
  <p class="subtitle"><span style="color: red;">These slides are interactive and must load a full version of R plus some packages. Please wait until complete (see the lower right corner of the screen for progress)</span></p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Carsten Lange 
</div>
<div class="quarto-title-author-email">
<a href="mailto:clange@cpp.edu">clange@cpp.edu</a>
</div>
        <p class="quarto-title-affiliation">
            Cal Poly, Pomona
          </p>
    </div>
</div>

</section>
<section id="loading-data-and-libraries" class="slide level2">
<h2>Loading Data and Libraries</h2>
<div class="cell" data-autorun="true">
<div>
<div id="webr-1" class="exercise-cell">

</div>
<script type="webr-1-contents">
eyJhdHRyIjp7ImF1dG9ydW4iOnRydWUsImVjaG8iOmZhbHNlLCJlZGl0IjpmYWxzZSwiZXZhbCI6dHJ1ZX0sImNvZGUiOiJEYXRhSG91c2luZyA9XG4gIHJlYWQuY3N2KFwiaHR0cHM6Ly9haS5sYW5nZS1hbmFseXRpY3MuY29tL2RhdGEvSG91c2luZ0RhdGEuY3N2XCIpfD5cbiAgY2xlYW5fbmFtZXMoXCJ1cHBlcl9jYW1lbFwiKSB8PlxuICBzZWxlY3QoUHJpY2UsIFNxZnQ9U3FmdExpdmluZywgR3JhZGUsIFdhdGVyZnJvbnQpXG5cbnNldC5zZWVkKDc3NylcblNwbGl0NzAzMD1pbml0aWFsX3NwbGl0KDAuNyxkYXRhPURhdGFIb3VzaW5nLCBzdHJhdGEgPSBQcmljZSwgYnJlYWtzID0gNSlcbkRhdGFUcmFpbj10cmFpbmluZyhTcGxpdDcwMzApXG5EYXRhVGVzdD10ZXN0aW5nKFNwbGl0NzAzMClcblxuUmVjaXBlSG91c2VzPXJlY2lwZShQcmljZSB+IC4sIGRhdGE9RGF0YVRyYWluKSB8PiBcbiAgICAgICAgICAgICBzdGVwX2R1bW15KFdhdGVyZnJvbnQpXG5cbk1vZGVsRGVzaWduSG91c2VzPWxpbmVhcl9yZWcoKSB8PiBcbiAgc2V0X2VuZ2luZShcImxtXCIpIHw+IFxuICBzZXRfbW9kZShcInJlZ3Jlc3Npb25cIilcblxuV0ZNb2RlbEhvdXNlcyA9IHdvcmtmbG93KCkgfD4gIFxuICAgICAgICAgICAgICAgIGFkZF9yZWNpcGUoUmVjaXBlSG91c2VzKSB8PiBcbiAgICAgICAgICAgICAgICBhZGRfbW9kZWwoTW9kZWxEZXNpZ25Ib3VzZXMpIHw+IFxuICAgICAgICAgICAgICAgIGZpdChEYXRhVHJhaW4pXG5EYXRhVGVzdFdpdGhQcmVkaWN0aW9ucyA9IGF1Z21lbnQoV0ZNb2RlbEhvdXNlcywgbmV3X2RhdGE9RGF0YVRlc3QpIn0=
</script>
</div>
</div>
</section>
<section id="what-will-you-learn" class="slide level2 scrollable smaller">
<h2>What Will You Learn</h2>
<ul>
<li><p>Reviewing the basic idea behind linear regression</p></li>
<li><p>Learning how how to measure predictive quality with Mean Squared Error (<span class="math inline">\(MSE\)</span>).</p></li>
<li><p>Understanding the role of parameters in linear regression and in machine learning models</p></li>
<li><p>Calculating optimal regression parameters using OLS</p></li>
<li><p>Finding optimal regression parameters by trial and error</p></li>
<li><p>Distinguish between unfitted and fitted models</p></li>
<li><p>Using the <code>tidymodels</code> package to split observations from a dataset randomly into a training and testing dataset.</p></li>
<li><p>Understanding how categorical data such as the sex of a person (female/male) can be transformed into numerical dummy variable.</p></li>
<li><p>Being able to distinguish between dummy encoding and one-hot encoding</p></li>
<li><p>Using <code>tidymodels</code> including model design and data pre-processing (recipes) to analyze housing prices.</p></li>
</ul>
</section>
<section id="jumping-right-into-it" class="slide level2">
<h2>Jumping Right Into It</h2>
<h3 id="univariate-ols-with-a-real-world-dataset">Univariate OLS with a Real World Dataset</h3>
<p><strong>Data Description:</strong></p>
<ul>
<li class="fragment"><p>King County House Sale dataset (Kaggle 2015). House sales prices from May 2014 to May 2015 for King County in Washington State.</p></li>
<li class="fragment"><p>Several predictor variables:<br>
For now we use only <span class="math inline">\(Sqft\)</span></p></li>
<li class="fragment"><p>For simplicity, we use only 100 randomly chosen observations from the total of 21,613 observations.</p></li>
</ul>
</section>
<section id="loading-the-data-and-assigning-training-and-testing-data" class="slide level2">
<h2>Loading the Data and Assigning Training and Testing Data</h2>
<p><strong>Note:</strong> To ensure compatibility with a JavaScript simulation used in the following slides, as an exception, <em>training</em> and <em>testing data</em> are generated with <code>n_sample()</code> rather than with <code>tidymodels</code> commands.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>DataTrain:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>   Price Sqft
1 517000 1180
2 236000 1300
3 490000 2800
4 129000 1150
5 257000 1400
6 312500  870</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>DataTest:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>   Price Sqft
1 743000 2110
2 175000  620
3 292000 2270
4 775000 3020
5 305495 2110
6 265000  960</code></pre>
</div>
</div>
</section>
<section id="how-much-is-a-house-worth-in-king-county" class="slide level2">
<h2>How much is a House Worth in King County?</h2>
<p><strong>A house with average properties should be predicted with an average price!</strong></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href=""></a>MeanSqft<span class="ot">=</span><span class="fu">mean</span>(DataTrain<span class="sc">$</span>Sqft)</span>
<span id="cb5-2"><a href=""></a><span class="fu">cat</span>(<span class="st">"The mean square footage of a house in King county is:"</span>, MeanSqft)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>The mean square footage of a house in King county is: 1956.7</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href=""></a>MeanPrice<span class="ot">=</span><span class="fu">mean</span>(DataTrain<span class="sc">$</span>Price)</span>
<span id="cb7-2"><a href=""></a><span class="fu">cat</span>(<span class="st">"The mean price of a house in King county is:"</span>, MeanPrice)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>The mean price of a house in King county is: 521294.2</code></pre>
</div>
</div>
</section>
<section id="predicting-the-price-of-an-average-sized-house-as-the-average-of-all-house-prices" class="slide level2">
<h2>Predicting the Price of an Average Sized House as the Average of all House Prices</h2>
<div class="cell">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-75fba99ce25d4611ddbe" style="width:960px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-75fba99ce25d4611ddbe">{"x":{"data":[{"x":[1180,1300,2800,1150,1400,870,1240,1670,3520,1980,2690,2030,1720,1520,4270,1630,1190,1120,930,2060,1210,550,1500,1860,1710,1370,1620,1710,1660,4020,3040,2790,1550,2790,2980,840,2140,2350,2990,920,1820,2050,1870,2050,1900,3200,2440,1280,1800,1400,2840,2110,3630,1260,1270,1700,3180,1190,1310,2600,1590,2940,1670,1800,3630,1640,2570,1410,2030,1440,1740,1990,1250,2120,2400,2100,1270,3350,2300,940,920,2720,1370,1340,1590,1350,1560,3470,3040,1570,1800,2210,2360,2430,2230,1780,2080,1400,1870,1630],"y":[517000,236000,490000,129000,257000,312500,525000,661000,859990,239000,730000,199000,499000,672600,null,422120,320000,750000,200000,459500,230000,353000,736000,799950,560000,460000,780000,450000,220000,null,null,533380,613000,null,574000,130000,350000,649950,514500,250000,625000,623000,289950,383000,190000,515000,525000,443000,335000,575000,665000,305000,null,412000,404500,245000,775000,166950,237950,722500,783200,590000,235000,360000,null,349000,275000,429000,685000,375000,450000,245000,370000,693000,852000,420000,599380,845000,325000,375000,265000,560000,219000,315000,300000,250000,430000,455000,840000,325000,754300,432900,435000,305000,590000,null,null,279000,592500,464000],"text":["Sqft: 1180<br />Price:  517000","Sqft: 1300<br />Price:  236000","Sqft: 2800<br />Price:  490000","Sqft: 1150<br />Price:  129000","Sqft: 1400<br />Price:  257000","Sqft:  870<br />Price:  312500","Sqft: 1240<br />Price:  525000","Sqft: 1670<br />Price:  661000","Sqft: 3520<br />Price:  859990","Sqft: 1980<br />Price:  239000","Sqft: 2690<br />Price:  730000","Sqft: 2030<br />Price:  199000","Sqft: 1720<br />Price:  499000","Sqft: 1520<br />Price:  672600","Sqft: 4270<br />Price: 1600000","Sqft: 1630<br />Price:  422120","Sqft: 1190<br />Price:  320000","Sqft: 1120<br />Price:  750000","Sqft:  930<br />Price:  200000","Sqft: 2060<br />Price:  459500","Sqft: 1210<br />Price:  230000","Sqft:  550<br />Price:  353000","Sqft: 1500<br />Price:  736000","Sqft: 1860<br />Price:  799950","Sqft: 1710<br />Price:  560000","Sqft: 1370<br />Price:  460000","Sqft: 1620<br />Price:  780000","Sqft: 1710<br />Price:  450000","Sqft: 1660<br />Price:  220000","Sqft: 4020<br />Price: 1420000","Sqft: 3040<br />Price: 1740000","Sqft: 2790<br />Price:  533380","Sqft: 1550<br />Price:  613000","Sqft: 2790<br />Price: 1130000","Sqft: 2980<br />Price:  574000","Sqft:  840<br />Price:  130000","Sqft: 2140<br />Price:  350000","Sqft: 2350<br />Price:  649950","Sqft: 2990<br />Price:  514500","Sqft:  920<br />Price:  250000","Sqft: 1820<br />Price:  625000","Sqft: 2050<br />Price:  623000","Sqft: 1870<br />Price:  289950","Sqft: 2050<br />Price:  383000","Sqft: 1900<br />Price:  190000","Sqft: 3200<br />Price:  515000","Sqft: 2440<br />Price:  525000","Sqft: 1280<br />Price:  443000","Sqft: 1800<br />Price:  335000","Sqft: 1400<br />Price:  575000","Sqft: 2840<br />Price:  665000","Sqft: 2110<br />Price:  305000","Sqft: 3630<br />Price:  962800","Sqft: 1260<br />Price:  412000","Sqft: 1270<br />Price:  404500","Sqft: 1700<br />Price:  245000","Sqft: 3180<br />Price:  775000","Sqft: 1190<br />Price:  166950","Sqft: 1310<br />Price:  237950","Sqft: 2600<br />Price:  722500","Sqft: 1590<br />Price:  783200","Sqft: 2940<br />Price:  590000","Sqft: 1670<br />Price:  235000","Sqft: 1800<br />Price:  360000","Sqft: 3630<br />Price:  964000","Sqft: 1640<br />Price:  349000","Sqft: 2570<br />Price:  275000","Sqft: 1410<br />Price:  429000","Sqft: 2030<br />Price:  685000","Sqft: 1440<br />Price:  375000","Sqft: 1740<br />Price:  450000","Sqft: 1990<br />Price:  245000","Sqft: 1250<br />Price:  370000","Sqft: 2120<br />Price:  693000","Sqft: 2400<br />Price:  852000","Sqft: 2100<br />Price:  420000","Sqft: 1270<br />Price:  599380","Sqft: 3350<br />Price:  845000","Sqft: 2300<br />Price:  325000","Sqft:  940<br />Price:  375000","Sqft:  920<br />Price:  265000","Sqft: 2720<br />Price:  560000","Sqft: 1370<br />Price:  219000","Sqft: 1340<br />Price:  315000","Sqft: 1590<br />Price:  300000","Sqft: 1350<br />Price:  250000","Sqft: 1560<br />Price:  430000","Sqft: 3470<br />Price:  455000","Sqft: 3040<br />Price:  840000","Sqft: 1570<br />Price:  325000","Sqft: 1800<br />Price:  754300","Sqft: 2210<br />Price:  432900","Sqft: 2360<br />Price:  435000","Sqft: 2430<br />Price:  305000","Sqft: 2230<br />Price:  590000","Sqft: 1780<br />Price:  935000","Sqft: 2080<br />Price: 1190000","Sqft: 1400<br />Price:  279000","Sqft: 1870<br />Price:  592500","Sqft: 1630<br />Price:  464000"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,0,0,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(255,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-250,5250],"y":[521294.20000000001,521294.20000000001],"text":"yintercept: 521294.2","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1956.7,1956.7],"y":[-45000,945000],"text":"xintercept: 1956.7","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":23.305936073059364,"r":7.3059360730593621,"b":37.260273972602747,"l":66.484018264840202},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-250,5250],"tickmode":"array","ticktext":["0","500","1,000","1,500","2,000","2,500","3,000","3,500","4,000","4,500","5,000"],"tickvals":[0,500,1000,1500,2000,2500,3000,3499.9999999999995,4000,4500,5000],"categoryorder":"array","categoryarray":["0","500","1,000","1,500","2,000","2,500","3,000","3,500","4,000","4,500","5,000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Sqft","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-45000,945000],"tickmode":"array","ticktext":["0","100,000","200,000","300,000","400,000","500,000","600,000","700,000","800,000","900,000"],"tickvals":[0,100000,200000,300000,400000,500000,600000,700000,800000,900000],"categoryorder":"array","categoryarray":["0","100,000","200,000","300,000","400,000","500,000","600,000","700,000","800,000","900,000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"Price","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"39e033e96205":{"x":{},"y":{},"type":"scatter"},"39e062991ed5":{"yintercept":{}},"39e0542a4a44":{"xintercept":{}}},"cur_data":"39e033e96205","visdat":{"39e033e96205":["function (y) ","x"],"39e062991ed5":["function (y) ","x"],"39e0542a4a44":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="an-interactive-graph-that-explains-it-all" class="slide level2">
<h2>An Interactive Graph That Explains it All</h2>
<p><strong>Unfitted Linear Regression Model:</strong> <span class="math display">\[
\underbrace{\widehat{Price}}_\widehat{y}=\underbrace{\beta_1}_m \underbrace{Sqft}_x + \underbrace{\beta_2}_b
\]</span></p>
<p><strong>JavaScript Simulation for Fitting Parameters:</strong><br>
<a href="https://econ.lange-analytics.com/calcat/linregrmeans" target="_blank">https://econ.lange-analytics.com/calcat/linregrmeans</a></p>
</section>
<section id="from-unfitted-to-fitted-model" class="slide level2">
<h2>From Unfitted to Fitted Model</h2>
<h3 id="how-does-the-unfitted-model-looks-like">How does the Unfitted Model Looks Like?</h3>
<p><span class="math display">\[
\underbrace{\widehat{Price}}_\widehat{y}=\underbrace{\beta_1}_m \underbrace{Sqft}_x + \underbrace{\beta_2}_b
\]</span></p>
<h3 class="smaller" id="fitting-the-model-with-tidymodels">Fitting the Model with Tidymodels</h3>
<p>Note, the data have already been split into <code>DataTrain</code> and <code>DataTest</code> in the background.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href=""></a>RecipeHouses<span class="ot">=</span> <span class="fu">recipe</span>(Price<span class="sc">~</span>Sqft, <span class="at">data=</span>DataTrain)</span>
<span id="cb9-2"><a href=""></a></span>
<span id="cb9-3"><a href=""></a>ModelDesignOLS<span class="ot">=</span> <span class="fu">linear_reg</span>() <span class="sc">|&gt;</span> </span>
<span id="cb9-4"><a href=""></a>                <span class="fu">set_engine</span>(<span class="st">"lm"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb9-5"><a href=""></a>                <span class="fu">set_mode</span>(<span class="st">"regression"</span>)</span>
<span id="cb9-6"><a href=""></a></span>
<span id="cb9-7"><a href=""></a>WFModelHouses <span class="ot">=</span> <span class="fu">workflow</span>() <span class="sc">|&gt;</span>  </span>
<span id="cb9-8"><a href=""></a>  <span class="fu">add_recipe</span>(RecipeHouses) <span class="sc">|&gt;</span> </span>
<span id="cb9-9"><a href=""></a>  <span class="fu">add_model</span>(ModelDesignOLS) <span class="sc">|&gt;</span> </span>
<span id="cb9-10"><a href=""></a>  <span class="fu">fit</span>(DataTrain)</span>
<span id="cb9-11"><a href=""></a></span>
<span id="cb9-12"><a href=""></a><span class="fu">tidy</span>(WFModelHouses)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 5
  term        estimate std.error statistic  p.value
  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
1 (Intercept)   52509.   64183.      0.818 4.15e- 1
2 Sqft            240.      30.6     7.84  5.67e-12</code></pre>
</div>
</div>
</section>
<section id="unfitted-model-vs-fitted-workflow-model" class="slide level2 smaller">
<h2>Unfitted Model vs Fitted Workflow Model</h2>
<p>Unfitted Model: <span class="math display">\[
\underbrace{\widehat{Price}}_\widehat{y}=\underbrace{\beta_1}_m \underbrace{Sqft}_x + \underbrace{\beta_0}_b
\]</span></p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 5
  term        estimate std.error statistic  p.value
  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
1 (Intercept)   52509.   64183.      0.818 4.15e- 1
2 Sqft            240.      30.6     7.84  5.67e-12</code></pre>
</div>
</div>
<p>Fitted Model: <span class="math display">\[
\underbrace{\widehat{Price}}_\widehat{y}=\underbrace{240}_m \cdot\underbrace{Sqft}_x + \underbrace{52509}_b
\]</span></p>
</section>
<section id="interpretation-and-significance" class="slide level2 smaller">
<h2>Interpretation and Significance</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 5
  term        estimate std.error statistic  p.value
  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
1 (Intercept)   52509.   64183.      0.818 4.15e- 1
2 Sqft            240.      30.6     7.84  5.67e-12</code></pre>
</div>
</div>
<p><span class="math display">\[
\begin{align}
\widehat{Price}&amp;=240 \cdot Sqft +  52509\\
(+240)&amp;=240\cdot (+1) +  (+0)\\
(+480)&amp;=240\cdot (+2) +  (+0)\\
(+720)&amp;=240\cdot (+3) +  (+0)
\end{align}
\]</span></p>
<p><strong>For each extra</strong> <span class="math inline">\(Sqft\)</span> the predicted price increases by $240</p>
<p><strong>The variable</strong> <span class="math inline">\(Sqft\)</span> is significant. I.e., the probability that the related coefficient <span class="math inline">\(\beta_1\)</span> equals zero is extremely small.</p>
</section>
<section id="how-does-the-fitted-model-that-considers-sqft-improves-the-prediction-compared-to-a-simple-average" class="slide level2">
<h2>How Does the fitted model that considers SQFT improves the prediction compared to a simple average</h2>
<p>Look at the simulation again and choose 240 for beta 1:</p>
<p><a href="https://econ.lange-analytics.com/calcat/linregrmeans" target="_blank">https://econ.lange-analytics.com/calcat/linregrmeans</a></p>
</section>
<section id="evaluating-predictive-quality-with-the-training-and-testing-dataset" class="slide level2">
<h2>Evaluating Predictive Quality with the Training and Testing Dataset</h2>
<p>DataTrain:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href=""></a>DataTrainWithPred <span class="ot">=</span> <span class="fu">augment</span>(WFModelHouses, <span class="at">new_data =</span> DataTrain)</span>
<span id="cb13-2"><a href=""></a><span class="fu">metrics</span>(DataTrainWithPred, <span class="at">truth =</span> Price, <span class="at">estimate =</span> .pred)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  .metric .estimator  .estimate
  &lt;chr&gt;   &lt;chr&gt;           &lt;dbl&gt;
1 rmse    standard   230129.   
2 rsq     standard        0.385
3 mae     standard   174350.   </code></pre>
</div>
</div>
<p>DataTest:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href=""></a>DataTestWithPred<span class="ot">=</span><span class="fu">augment</span>(WFModelHouses, <span class="at">new_data=</span>DataTest)</span>
<span id="cb15-2"><a href=""></a><span class="fu">metrics</span>(DataTestWithPred, <span class="at">truth=</span>Price, <span class="at">estimate=</span>.pred)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  .metric .estimator  .estimate
  &lt;chr&gt;   &lt;chr&gt;           &lt;dbl&gt;
1 rmse    standard   163476.   
2 rsq     standard        0.626
3 mae     standard   132050.   </code></pre>
</div>
</div>
</section>
<section id="univariate-linear-regression-mockup-data-example" class="slide level2">
<h2>Univariate Linear Regression — Mockup Data Example</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p><strong>The Regression:</strong></p>
<p><span class="math display">\[
\widehat{y}_{i} = \beta_{1}x_{i}+\beta_{2}
\]</span></p>
<p><span class="math display">\[
\widehat{Grade}_{i} = \beta_{1}\cdot StudyTime_{i}+\beta_{2}
\]</span></p>
<p><strong>The Goal</strong></p>
<p>Find values for <span class="math inline">\(\beta_1\)</span> and <span class="math inline">\(\beta_2\)</span> that minimize the prediction errors <span class="math inline">\((\widehat{y}_{i}-y_i)^2\)</span> or <span class="math inline">\((\widehat{Grade}_{i}-Grade_i)^2\)</span></p>
</div><div class="column" style="width:60%;">
<p><strong>The Data Table</strong></p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Mockup Training Dataset</caption>
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: right; empty-cells: hide; border-bottom: hidden;"></th>
<th data-quarto-table-cell-role="th" style="text-align: center; border-bottom: hidden; padding-bottom: 0; padding-left: 3px; padding-right: 3px;"><div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
y
</div></th>
<th data-quarto-table-cell-role="th" style="text-align: center; border-bottom: hidden; padding-bottom: 0; padding-left: 3px; padding-right: 3px;"><div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
x
</div></th>
</tr>
<tr class="even">
<th style="text-align: right;" data-quarto-table-cell-role="th">i</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Grade</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">StudyTime</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">65</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">82</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: right;">93</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: right;">93</td>
<td style="text-align: right;">8</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: right;">83</td>
<td style="text-align: right;">4</td>
</tr>
</tbody>
</table>
</div>
</div>
</div></div>
</section>
<section id="univariate-linear-regression-mockup-data-example-1" class="slide level2">
<h2>Univariate Linear Regression — Mockup Data Example</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p><strong>The Regression:</strong></p>
<p><span class="math display">\[
\widehat{Grade}_{i} = \beta_{1}\cdot StudyTime_{i}+\beta_{2}
\]</span></p>
<p><strong>The Goal</strong></p>
<p>Find values for <span class="math inline">\(\beta_0\)</span> and <span class="math inline">\(\beta_1\)</span> that minimize the prediction errors <span class="math inline">\((\widehat{y}_{i}-Grade_i)^2\)</span> <br> <strong>The Optimal Prediction:</strong></p>
<p><span class="math display">\[
\widehat{Grade}_{i} = 4 \cdot StudyTime_{i}+64
\]</span></p>
</div><div class="column" style="width:60%;">
<p><strong>The Data Diagram</strong></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="LinRegr_files/figure-revealjs/unnamed-chunk-13-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div></div>
</section>
<section id="how-to-measure-prediction-quality" class="slide level2">
<h2>How to Measure Prediction Quality</h2>
<span class="math display">\[\begin{eqnarray*}
MSE &amp; = &amp; \frac{1}{N} \sum_{i=1}^{N}(\widehat{y}_{i}-y_{i})^{2} \\
&amp; \Longleftrightarrow&amp; \\
MSE &amp; =  &amp; \frac{1}{N} \sum_{i=1}^{N}(\underbrace{\overbrace{\beta_{1}x_{i}+\beta_2}^{\mbox{Prediction $i$}}-y_i}_{\mbox{Error $i$}})^2
\end{eqnarray*}\]</span>
<p><strong>Note, when the data are given (i.e., <span class="math inline">\(x_i\)</span> and <span class="math inline">\(y_i\)</span> are given):</strong><br>
<span style="color: red; font-weight: bold;">The <span class="math inline">\(MSE\)</span> depends only on the choice of <span class="math inline">\(\beta_1\)</span> and <span class="math inline">\(\beta_2\)</span> </span></p>
</section>
<section id="how-to-measure-prediction-quality-with-the-mse" class="slide level2 smaller scrollable">
<h2>How to Measure Prediction Quality with the MSE</h2>
<span class="math display">\[\begin{eqnarray}
MSE &amp; = &amp; \frac{(\beta_1x_{1}+\beta_2-y_1)^2
       +(\beta_1x_{2}+\beta_2-y_2)^2 +  \cdots+
       (\beta_1x_{5}+\beta_2-y_{5})^2}{5} \nonumber \\
       &amp; \Longleftrightarrow&amp; \nonumber \\
MSE &amp; = &amp; \frac{1}{5}\left[ (\underbrace{\overbrace{\beta_1\cdot 2+\beta_2}^{\mbox{Prediction $1$}}-65}_{\mbox{Error $1$}})^2
       +(\underbrace{\overbrace{\beta_1\cdot 3+\beta_2}^{\mbox{Prediction $2$}}-82}_{\mbox{Error $2$}})^2\right.\nonumber \\
   &amp;   &amp;\nonumber \\
       &amp;&amp; +
    (\underbrace{\overbrace{\beta_1\cdot 7+\beta_2}^{\mbox{Prediction $3$}}-93}_{\mbox{Error $3$}})^2
+(\underbrace{\overbrace{\beta_1\cdot 8+\beta_2}^{\mbox{Prediction $4$}}-93}_{\mbox{Error $4$}})^2\nonumber \\
   &amp;   &amp;\nonumber \\
       &amp;&amp; +\left. (\underbrace{\overbrace{\beta_1\cdot 4+\beta_2}^{\mbox{Prediction $5$}}-83}_{\mbox{Error $6$}})^2\right]
\end{eqnarray}\]</span>
</section>
<section id="custom-r-function-to-calculate-mse" class="slide level2">
<h2>Custom R Function to Calculate MSE</h2>
<p>Function Call:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href=""></a>VecGuessBeta<span class="ot">=</span><span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">64</span>)</span>
<span id="cb17-2"><a href=""></a>ResultMSE<span class="ot">=</span><span class="fu">FctMSE</span>(VecGuessBeta, DataMockup)</span>
<span id="cb17-3"><a href=""></a><span class="fu">print</span>(ResultMSE)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 20.8</code></pre>
</div>
</div>
<p>Function Definition:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href=""></a>FctMSE<span class="ot">=</span><span class="cf">function</span>(VecBeta, data){</span>
<span id="cb19-2"><a href=""></a>                        Beta1<span class="ot">=</span>VecBeta[<span class="dv">1</span>]</span>
<span id="cb19-3"><a href=""></a>                        Beta2<span class="ot">=</span>VecBeta[<span class="dv">2</span>]</span>
<span id="cb19-4"><a href=""></a>                        data<span class="ot">=</span>data <span class="sc">|&gt;</span></span>
<span id="cb19-5"><a href=""></a>                        <span class="fu">rename</span>(<span class="at">Y=</span><span class="dv">1</span>, <span class="at">X=</span><span class="dv">2</span>) <span class="sc">|&gt;</span> </span>
<span id="cb19-6"><a href=""></a>                        <span class="fu">mutate</span>(<span class="at">YPred=</span>Beta1<span class="sc">*</span>X<span class="sc">+</span>Beta2) <span class="sc">|&gt;</span></span>
<span id="cb19-7"><a href=""></a>                        <span class="fu">mutate</span>(<span class="at">Error=</span>YPred<span class="sc">-</span>Y) <span class="sc">|&gt;</span></span>
<span id="cb19-8"><a href=""></a>                        <span class="fu">mutate</span>(<span class="at">ErrorSqt=</span>Error<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb19-9"><a href=""></a>                        </span>
<span id="cb19-10"><a href=""></a>                        MSE<span class="ot">=</span><span class="fu">mean</span>(data<span class="sc">$</span>ErrorSqt)</span>
<span id="cb19-11"><a href=""></a>                        </span>
<span id="cb19-12"><a href=""></a>                        <span class="fu">return</span>(MSE)}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section>
<section id="how-to-find-optimal-values-for-beta_1-and-beta_2" class="slide level2">
<h2>How to Find Optimal Values for <span class="math inline">\(\beta_1\)</span> and <span class="math inline">\(\beta_2\)</span></h2>
<dl>
<dt><strong>Method 1:</strong></dt>
<dd>
<p><strong>Calculate optimal values</strong> for the parameters (the <span class="math inline">\(\beta s\)</span>) based on Ordinary Least Squares (OLS) using two formulas. <strong>Note,</strong> this method works only for linear regression.</p>
</dd>
<dt><strong>Method 2:</strong></dt>
<dd>
<p>We can use a <strong>systematic trial and error process</strong>.</p>
</dd>
</dl>
</section>
<section id="method-1-calculate-optimal-parameters-only-for-ols" class="slide level2 smaller">
<h2>Method 1: Calculate Optimal Parameters (only for OLS!)</h2>
<p><span class="math display">\[\beta_{1,opt}= \frac
{N \sum_{i=1}^N y_i x_i - \sum_{i=1}^N y_i \sum_{i=1}^N x_i}
{N \sum_{i=1}^N x_i^2 - \left (\sum_{i=1}^N x_i \right )^2}=3.96 \quad\mbox{ and }\quad
\beta_{2,opt.}= \frac{\sum_{i=1}^N y_i}{N}  - \beta_1 \frac{\sum_{i=1}^N x_i} {N} = 64.18\]</span></p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top" style="width: auto !important; margin-left: auto; margin-right: auto;">
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: right; empty-cells: hide; border-bottom: hidden;"></th>
<th data-quarto-table-cell-role="th" style="text-align: center; border-bottom: hidden; padding-bottom: 0; padding-left: 3px; padding-right: 3px;"><div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
y
</div></th>
<th data-quarto-table-cell-role="th" style="text-align: center; border-bottom: hidden; padding-bottom: 0; padding-left: 3px; padding-right: 3px;"><div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
x
</div></th>
<th data-quarto-table-cell-role="th" style="text-align: center; border-bottom: hidden; padding-bottom: 0; padding-left: 3px; padding-right: 3px;"><div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
y x
</div></th>
<th data-quarto-table-cell-role="th" style="text-align: center; border-bottom: hidden; padding-bottom: 0; padding-left: 3px; padding-right: 3px;"><div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
x x
</div></th>
</tr>
<tr class="even">
<th style="text-align: right;" data-quarto-table-cell-role="th">i</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Grade</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">StudyTime</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">GradeXStudyTime</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">StudyTimeSquared</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">65</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">130</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">82</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">246</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: right;">93</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">651</td>
<td style="text-align: right;">49</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: right;">93</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">744</td>
<td style="text-align: right;">64</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: right;">83</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">332</td>
<td style="text-align: right;">16</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Column Sums</caption>
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Grade</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">StudyTime</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">GradeXStudyTime</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">StudyTimeSquared</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">416</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">2103</td>
<td style="text-align: right;">142</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="method-2-use-a-systematic-trial-and-error-process" class="slide level2 scrollable">
<h2>Method 2: Use a Systematic Trial and Error Process</h2>
<ul>
<li><p><strong>Manual Trial and Error (aka Brute Force):</strong></p></li>
<li><p><strong>Trial and Error with Grid Search (aka Brute Force):</strong></p>
<ol type="1">
<li>For a given range of <span class="math inline">\(\beta_1\)</span> and <span class="math inline">\(\beta_2\)</span> values, build a table with pairs of all combinations of these <span class="math inline">\(\beta s\)</span>.</li>
<li>Then use our custom <code>FctMSE()</code> command to calculate a <span class="math inline">\(MSE\)</span> for each <span class="math inline">\(\beta\)</span> pair.</li>
<li>Find the <span class="math inline">\(\beta\)</span> pair with the lowest <span class="math inline">\(MSE\)</span></li>
</ol></li>
<li><p><strong>Optimizer:</strong> Use the R build-in optimizer. Push the start values for <span class="math inline">\(\beta_1\)</span> and <span class="math inline">\(\beta_2\)</span> together with the data to the optimizer as arguments. The rest is done by the optimizer.</p></li>
<li><p>See the R script in the footnote to see both algorithms in action.</p></li>
</ul>
<div class="footer">
<p>See: <a href="https://econ.lange-analytics.com/RScripts/LinRegrScript.R">LinRegrScript.R script100</a></p>
</div>
</section>
<section id="manual-trial-and-error-aka-brute-force" class="slide level2">
<h2>Manual Trial and Error (aka Brute Force)</h2>
<div class="cell" data-autorun="true">
<div>
<div id="webr-2" class="exercise-cell">

</div>
<script type="webr-2-contents">
eyJhdHRyIjp7ImF1dG9ydW4iOnRydWUsImVjaG8iOmZhbHNlLCJlZGl0IjpmYWxzZSwiZXZhbCI6dHJ1ZSwiaW5jbHVkZSI6ZmFsc2UsIm91dHB1dCI6ZmFsc2V9LCJjb2RlIjoiRGF0YU1vY2t1cD1yZWFkUkRTKHVybChcImh0dHBzOi8vYWkubGFuZ2UtYW5hbHl0aWNzLmNvbS9kYXRhL0RhdGFTdHVkeVRpbWVNb2NrdXAucmRzXCIpKVxuRmN0TVNFPWZ1bmN0aW9uKFZlY0JldGEsIGRhdGEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgQmV0YTE9VmVjQmV0YVsxXVxuICAgICAgICAgICAgICAgICAgICAgICAgQmV0YTI9VmVjQmV0YVsyXVxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YT1kYXRhIHw+XG4gICAgICAgICAgICAgICAgICAgICAgICByZW5hbWUoWT0xLCBYPTIpIHw+IFxuICAgICAgICAgICAgICAgICAgICAgICAgbXV0YXRlKFlQcmVkPUJldGExKlgrQmV0YTIpIHw+XG4gICAgICAgICAgICAgICAgICAgICAgICBtdXRhdGUoRXJyb3I9WVByZWQtWSkgfD5cbiAgICAgICAgICAgICAgICAgICAgICAgIG11dGF0ZShFcnJvclNxdD1FcnJvcl4yKVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBNU0U9bWVhbihkYXRhJEVycm9yU3F0KVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4oTVNFKX0ifQ==
</script>
</div>
</div>
<p><span class="math display">\[\widehat{Grade_i}=\beta1 \cdot StudyTime_i + \beta2\]</span></p>
<div class="cell">
<div>
<div id="webr-3" class="exercise-cell">

</div>
<script type="webr-3-contents">
eyJhdHRyIjp7ImVkaXQiOnRydWUsImV2YWwiOnRydWV9LCJjb2RlIjoiR3Vlc3NCZXRhMT0wXG5HdWVzc0JldGEyPTgzIFxuTVNFPUZjdE1TRShjKEd1ZXNzQmV0YTEsR3Vlc3NCZXRhMiksIGRhdGE9RGF0YU1vY2t1cClcbmNhdChcIlRoZSBNU0UgZm9yIGJldGExPVwiLEd1ZXNzQmV0YTEsIFwiYW5kIGJldGEyPVwiLEd1ZXNzQmV0YTIsIFwiaXM6XCIsIE1TRSkifQ==
</script>
</div>
</div>
</section>
<section id="more-systematic-manual-trial-and-error-still-brute-force" class="slide level2">
<h2>More Systematic Manual Trial and Error (still Brute Force)</h2>
<p><strong>Average <code>StudyTime</code> leads to a prediction of average grade:</strong></p>
<p><span class="math display">\[\overline{StudyTime}=mean(StudyTime)=4.8\]</span> <span class="math display">\[\overline{Grade}=mean(Grade)=83.2\]</span></p>
<p>Therefore: <span class="math display">\[\overline{Grade}=\beta_1 \cdot \overline{StudyTime} + \beta_2\]</span> <span class="math display">\[\beta_2=\overline{Grade} - \beta_1 \cdot \overline{StudyTime}\]</span></p>
<div class="cell">
<div>
<div id="webr-4" class="exercise-cell">

</div>
<script type="webr-4-contents">
eyJhdHRyIjp7ImVkaXQiOnRydWUsImV2YWwiOnRydWV9LCJjb2RlIjoiR3Vlc3NCZXRhMT0wXG5HdWVzc0JldGEyPTgzLjIgLSBHdWVzc0JldGExICogNC44IFxuTVNFPUZjdE1TRShjKEd1ZXNzQmV0YTEsR3Vlc3NCZXRhMiksIGRhdGE9RGF0YU1vY2t1cClcblxuXG5jYXQoXCJUaGUgTVNFIGZvciBiZXRhMT1cIixHdWVzc0JldGExLCBcImFuZCBiZXRhMj1cIixHdWVzc0JldGEyLCBcImlzOlwiLCBNU0UpIn0=
</script>
</div>
</div>
</section>
<section id="trial-and-error-with-grid-search-aka-brute-force" class="slide level2">
<h2>Trial and Error with Grid Search (aka Brute Force)</h2>
<p><strong>Guesses for each <span class="math inline">\(\beta\)</span>:</strong></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href=""></a>VecBeta1Values<span class="ot">=</span><span class="fu">seq</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="at">length.out=</span><span class="dv">21</span>)</span>
<span id="cb20-2"><a href=""></a>VecBeta2Values<span class="ot">=</span><span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">70</span>, <span class="at">length.out=</span><span class="dv">21</span>)</span>
<span id="cb20-3"><a href=""></a></span>
<span id="cb20-4"><a href=""></a><span class="fu">data.frame</span>(<span class="at">Beta1Values=</span>VecBeta1Values,<span class="at">Beta2Values=</span>VecBeta2Values)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   Beta1Values Beta2Values
1          3.0          50
2          3.1          51
3          3.2          52
4          3.3          53
5          3.4          54
6          3.5          55
7          3.6          56
8          3.7          57
9          3.8          58
10         3.9          59
11         4.0          60
12         4.1          61
13         4.2          62
14         4.3          63
15         4.4          64
16         4.5          65
17         4.6          66
18         4.7          67
19         4.8          68
20         4.9          69
21         5.0          70</code></pre>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Grid with all <span class="math inline">\(\beta_1\)</span>/<span class="math inline">\(\beta_2\)</span> combinations with <span class="math inline">\(MSE\)</span>:</strong></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href=""></a>GridBetaPairs<span class="ot">=</span><span class="fu">expand.grid</span>(<span class="at">Beta1=</span>VecBeta1Values, <span class="at">Beta2=</span>VecBeta2Values)</span>
<span id="cb22-2"><a href=""></a></span>
<span id="cb22-3"><a href=""></a>VecMSE<span class="ot">=</span><span class="fu">apply</span>(GridBetaPairs, <span class="at">FUN=</span>FctMSE, <span class="at">data=</span>DataMockup, <span class="at">MARGIN=</span><span class="dv">1</span>)<span class="co"># margin=1 means use rows to apply</span></span>
<span id="cb22-4"><a href=""></a></span>
<span id="cb22-5"><a href=""></a>GridBetaPairs<span class="ot">=</span>GridBetaPairs <span class="sc">|&gt;</span> </span>
<span id="cb22-6"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">MSE=</span>VecMSE)</span>
<span id="cb22-7"><a href=""></a></span>
<span id="cb22-8"><a href=""></a>GridBetaPairs</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>    Beta1 Beta2     MSE
1     3.0    50 379.200
2     3.1    50 360.404
3     3.2    50 342.176
4     3.3    50 324.516
5     3.4    50 307.424
6     3.5    50 290.900
7     3.6    50 274.944
8     3.7    50 259.556
9     3.8    50 244.736
10    3.9    50 230.484
11    4.0    50 216.800
12    4.1    50 203.684
13    4.2    50 191.136
14    4.3    50 179.156
15    4.4    50 167.744
16    4.5    50 156.900
17    4.6    50 146.624
18    4.7    50 136.916
19    4.8    50 127.776
20    4.9    50 119.204
21    5.0    50 111.200
22    3.0    51 342.600
23    3.1    51 324.764
24    3.2    51 307.496
25    3.3    51 290.796
26    3.4    51 274.664
27    3.5    51 259.100
28    3.6    51 244.104
29    3.7    51 229.676
30    3.8    51 215.816
31    3.9    51 202.524
32    4.0    51 189.800
33    4.1    51 177.644
34    4.2    51 166.056
35    4.3    51 155.036
36    4.4    51 144.584
37    4.5    51 134.700
38    4.6    51 125.384
39    4.7    51 116.636
40    4.8    51 108.456
41    4.9    51 100.844
42    5.0    51  93.800
43    3.0    52 308.000
44    3.1    52 291.124
45    3.2    52 274.816
46    3.3    52 259.076
47    3.4    52 243.904
48    3.5    52 229.300
49    3.6    52 215.264
50    3.7    52 201.796
51    3.8    52 188.896
52    3.9    52 176.564
53    4.0    52 164.800
54    4.1    52 153.604
55    4.2    52 142.976
56    4.3    52 132.916
57    4.4    52 123.424
58    4.5    52 114.500
59    4.6    52 106.144
60    4.7    52  98.356
61    4.8    52  91.136
62    4.9    52  84.484
63    5.0    52  78.400
64    3.0    53 275.400
65    3.1    53 259.484
66    3.2    53 244.136
67    3.3    53 229.356
68    3.4    53 215.144
69    3.5    53 201.500
70    3.6    53 188.424
71    3.7    53 175.916
72    3.8    53 163.976
73    3.9    53 152.604
74    4.0    53 141.800
75    4.1    53 131.564
76    4.2    53 121.896
77    4.3    53 112.796
78    4.4    53 104.264
79    4.5    53  96.300
80    4.6    53  88.904
81    4.7    53  82.076
82    4.8    53  75.816
83    4.9    53  70.124
84    5.0    53  65.000
85    3.0    54 244.800
86    3.1    54 229.844
87    3.2    54 215.456
88    3.3    54 201.636
89    3.4    54 188.384
90    3.5    54 175.700
91    3.6    54 163.584
92    3.7    54 152.036
93    3.8    54 141.056
94    3.9    54 130.644
95    4.0    54 120.800
96    4.1    54 111.524
97    4.2    54 102.816
98    4.3    54  94.676
99    4.4    54  87.104
100   4.5    54  80.100
101   4.6    54  73.664
102   4.7    54  67.796
103   4.8    54  62.496
104   4.9    54  57.764
105   5.0    54  53.600
106   3.0    55 216.200
107   3.1    55 202.204
108   3.2    55 188.776
109   3.3    55 175.916
110   3.4    55 163.624
111   3.5    55 151.900
112   3.6    55 140.744
113   3.7    55 130.156
114   3.8    55 120.136
115   3.9    55 110.684
116   4.0    55 101.800
117   4.1    55  93.484
118   4.2    55  85.736
119   4.3    55  78.556
120   4.4    55  71.944
121   4.5    55  65.900
122   4.6    55  60.424
123   4.7    55  55.516
124   4.8    55  51.176
125   4.9    55  47.404
126   5.0    55  44.200
127   3.0    56 189.600
128   3.1    56 176.564
129   3.2    56 164.096
130   3.3    56 152.196
131   3.4    56 140.864
132   3.5    56 130.100
133   3.6    56 119.904
134   3.7    56 110.276
135   3.8    56 101.216
136   3.9    56  92.724
137   4.0    56  84.800
138   4.1    56  77.444
139   4.2    56  70.656
140   4.3    56  64.436
141   4.4    56  58.784
142   4.5    56  53.700
143   4.6    56  49.184
144   4.7    56  45.236
145   4.8    56  41.856
146   4.9    56  39.044
147   5.0    56  36.800
148   3.0    57 165.000
149   3.1    57 152.924
150   3.2    57 141.416
151   3.3    57 130.476
152   3.4    57 120.104
153   3.5    57 110.300
154   3.6    57 101.064
155   3.7    57  92.396
156   3.8    57  84.296
157   3.9    57  76.764
158   4.0    57  69.800
159   4.1    57  63.404
160   4.2    57  57.576
161   4.3    57  52.316
162   4.4    57  47.624
163   4.5    57  43.500
164   4.6    57  39.944
165   4.7    57  36.956
166   4.8    57  34.536
167   4.9    57  32.684
168   5.0    57  31.400
169   3.0    58 142.400
170   3.1    58 131.284
171   3.2    58 120.736
172   3.3    58 110.756
173   3.4    58 101.344
174   3.5    58  92.500
175   3.6    58  84.224
176   3.7    58  76.516
177   3.8    58  69.376
178   3.9    58  62.804
179   4.0    58  56.800
180   4.1    58  51.364
181   4.2    58  46.496
182   4.3    58  42.196
183   4.4    58  38.464
184   4.5    58  35.300
185   4.6    58  32.704
186   4.7    58  30.676
187   4.8    58  29.216
188   4.9    58  28.324
189   5.0    58  28.000
190   3.0    59 121.800
191   3.1    59 111.644
192   3.2    59 102.056
193   3.3    59  93.036
194   3.4    59  84.584
195   3.5    59  76.700
196   3.6    59  69.384
197   3.7    59  62.636
198   3.8    59  56.456
199   3.9    59  50.844
200   4.0    59  45.800
201   4.1    59  41.324
202   4.2    59  37.416
203   4.3    59  34.076
204   4.4    59  31.304
205   4.5    59  29.100
206   4.6    59  27.464
207   4.7    59  26.396
208   4.8    59  25.896
209   4.9    59  25.964
210   5.0    59  26.600
211   3.0    60 103.200
212   3.1    60  94.004
213   3.2    60  85.376
214   3.3    60  77.316
215   3.4    60  69.824
216   3.5    60  62.900
217   3.6    60  56.544
218   3.7    60  50.756
219   3.8    60  45.536
220   3.9    60  40.884
221   4.0    60  36.800
222   4.1    60  33.284
223   4.2    60  30.336
224   4.3    60  27.956
225   4.4    60  26.144
226   4.5    60  24.900
227   4.6    60  24.224
228   4.7    60  24.116
229   4.8    60  24.576
230   4.9    60  25.604
231   5.0    60  27.200
232   3.0    61  86.600
233   3.1    61  78.364
234   3.2    61  70.696
235   3.3    61  63.596
236   3.4    61  57.064
237   3.5    61  51.100
238   3.6    61  45.704
239   3.7    61  40.876
240   3.8    61  36.616
241   3.9    61  32.924
242   4.0    61  29.800
243   4.1    61  27.244
244   4.2    61  25.256
245   4.3    61  23.836
246   4.4    61  22.984
247   4.5    61  22.700
248   4.6    61  22.984
249   4.7    61  23.836
250   4.8    61  25.256
251   4.9    61  27.244
252   5.0    61  29.800
253   3.0    62  72.000
254   3.1    62  64.724
255   3.2    62  58.016
256   3.3    62  51.876
257   3.4    62  46.304
258   3.5    62  41.300
259   3.6    62  36.864
260   3.7    62  32.996
261   3.8    62  29.696
262   3.9    62  26.964
263   4.0    62  24.800
264   4.1    62  23.204
265   4.2    62  22.176
266   4.3    62  21.716
267   4.4    62  21.824
268   4.5    62  22.500
269   4.6    62  23.744
270   4.7    62  25.556
271   4.8    62  27.936
272   4.9    62  30.884
273   5.0    62  34.400
274   3.0    63  59.400
275   3.1    63  53.084
276   3.2    63  47.336
277   3.3    63  42.156
278   3.4    63  37.544
279   3.5    63  33.500
280   3.6    63  30.024
281   3.7    63  27.116
282   3.8    63  24.776
283   3.9    63  23.004
284   4.0    63  21.800
285   4.1    63  21.164
286   4.2    63  21.096
287   4.3    63  21.596
288   4.4    63  22.664
289   4.5    63  24.300
290   4.6    63  26.504
291   4.7    63  29.276
292   4.8    63  32.616
293   4.9    63  36.524
294   5.0    63  41.000
295   3.0    64  48.800
296   3.1    64  43.444
297   3.2    64  38.656
298   3.3    64  34.436
299   3.4    64  30.784
300   3.5    64  27.700
301   3.6    64  25.184
302   3.7    64  23.236
303   3.8    64  21.856
304   3.9    64  21.044
305   4.0    64  20.800
306   4.1    64  21.124
307   4.2    64  22.016
308   4.3    64  23.476
309   4.4    64  25.504
310   4.5    64  28.100
311   4.6    64  31.264
312   4.7    64  34.996
313   4.8    64  39.296
314   4.9    64  44.164
315   5.0    64  49.600
316   3.0    65  40.200
317   3.1    65  35.804
318   3.2    65  31.976
319   3.3    65  28.716
320   3.4    65  26.024
321   3.5    65  23.900
322   3.6    65  22.344
323   3.7    65  21.356
324   3.8    65  20.936
325   3.9    65  21.084
326   4.0    65  21.800
327   4.1    65  23.084
328   4.2    65  24.936
329   4.3    65  27.356
330   4.4    65  30.344
331   4.5    65  33.900
332   4.6    65  38.024
333   4.7    65  42.716
334   4.8    65  47.976
335   4.9    65  53.804
336   5.0    65  60.200
337   3.0    66  33.600
338   3.1    66  30.164
339   3.2    66  27.296
340   3.3    66  24.996
341   3.4    66  23.264
342   3.5    66  22.100
343   3.6    66  21.504
344   3.7    66  21.476
345   3.8    66  22.016
346   3.9    66  23.124
347   4.0    66  24.800
348   4.1    66  27.044
349   4.2    66  29.856
350   4.3    66  33.236
351   4.4    66  37.184
352   4.5    66  41.700
353   4.6    66  46.784
354   4.7    66  52.436
355   4.8    66  58.656
356   4.9    66  65.444
357   5.0    66  72.800
358   3.0    67  29.000
359   3.1    67  26.524
360   3.2    67  24.616
361   3.3    67  23.276
362   3.4    67  22.504
363   3.5    67  22.300
364   3.6    67  22.664
365   3.7    67  23.596
366   3.8    67  25.096
367   3.9    67  27.164
368   4.0    67  29.800
369   4.1    67  33.004
370   4.2    67  36.776
371   4.3    67  41.116
372   4.4    67  46.024
373   4.5    67  51.500
374   4.6    67  57.544
375   4.7    67  64.156
376   4.8    67  71.336
377   4.9    67  79.084
378   5.0    67  87.400
379   3.0    68  26.400
380   3.1    68  24.884
381   3.2    68  23.936
382   3.3    68  23.556
383   3.4    68  23.744
384   3.5    68  24.500
385   3.6    68  25.824
386   3.7    68  27.716
387   3.8    68  30.176
388   3.9    68  33.204
389   4.0    68  36.800
390   4.1    68  40.964
391   4.2    68  45.696
392   4.3    68  50.996
393   4.4    68  56.864
394   4.5    68  63.300
395   4.6    68  70.304
396   4.7    68  77.876
397   4.8    68  86.016
398   4.9    68  94.724
399   5.0    68 104.000
400   3.0    69  25.800
401   3.1    69  25.244
402   3.2    69  25.256
403   3.3    69  25.836
404   3.4    69  26.984
405   3.5    69  28.700
406   3.6    69  30.984
407   3.7    69  33.836
408   3.8    69  37.256
409   3.9    69  41.244
410   4.0    69  45.800
411   4.1    69  50.924
412   4.2    69  56.616
413   4.3    69  62.876
414   4.4    69  69.704
415   4.5    69  77.100
416   4.6    69  85.064
417   4.7    69  93.596
418   4.8    69 102.696
419   4.9    69 112.364
420   5.0    69 122.600
421   3.0    70  27.200
422   3.1    70  27.604
423   3.2    70  28.576
424   3.3    70  30.116
425   3.4    70  32.224
426   3.5    70  34.900
427   3.6    70  38.144
428   3.7    70  41.956
429   3.8    70  46.336
430   3.9    70  51.284
431   4.0    70  56.800
432   4.1    70  62.884
433   4.2    70  69.536
434   4.3    70  76.756
435   4.4    70  84.544
436   4.5    70  92.900
437   4.6    70 101.824
438   4.7    70 111.316
439   4.8    70 121.376
440   4.9    70 132.004
441   5.0    70 143.200</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><strong>Grid with all <span class="math inline">\(\beta_1\)</span>/<span class="math inline">\(\beta_2\)</span> combinations with <span class="math inline">\(MSE\)</span> (sorted):</strong></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href=""></a><span class="fu">arrange</span>(GridBetaPairs,MSE)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>    Beta1 Beta2     MSE
1     4.0    64  20.800
2     3.8    65  20.936
3     3.9    64  21.044
4     3.9    65  21.084
5     4.2    63  21.096
6     4.1    64  21.124
7     4.1    63  21.164
8     3.7    65  21.356
9     3.7    66  21.476
10    3.6    66  21.504
11    4.3    63  21.596
12    4.3    62  21.716
13    4.0    63  21.800
14    4.0    65  21.800
15    4.4    62  21.824
16    3.8    64  21.856
17    3.8    66  22.016
18    4.2    64  22.016
19    3.5    66  22.100
20    4.2    62  22.176
21    3.5    67  22.300
22    3.6    65  22.344
23    4.5    62  22.500
24    3.4    67  22.504
25    4.4    63  22.664
26    3.6    67  22.664
27    4.5    61  22.700
28    4.4    61  22.984
29    4.6    61  22.984
30    3.9    63  23.004
31    4.1    65  23.084
32    3.9    66  23.124
33    4.1    62  23.204
34    3.7    64  23.236
35    3.4    66  23.264
36    3.3    67  23.276
37    4.3    64  23.476
38    3.3    68  23.556
39    3.7    67  23.596
40    3.4    68  23.744
41    4.6    62  23.744
42    4.3    61  23.836
43    4.7    61  23.836
44    3.5    65  23.900
45    3.2    68  23.936
46    4.7    60  24.116
47    4.6    60  24.224
48    4.5    63  24.300
49    3.5    68  24.500
50    4.8    60  24.576
51    3.2    67  24.616
52    3.8    63  24.776
53    4.0    62  24.800
54    4.0    66  24.800
55    3.1    68  24.884
56    4.5    60  24.900
57    4.2    65  24.936
58    3.3    66  24.996
59    3.8    67  25.096
60    3.6    64  25.184
61    3.1    69  25.244
62    4.8    61  25.256
63    3.2    69  25.256
64    4.2    61  25.256
65    4.4    64  25.504
66    4.7    62  25.556
67    4.9    60  25.604
68    3.0    69  25.800
69    3.6    68  25.824
70    3.3    69  25.836
71    4.8    59  25.896
72    4.9    59  25.964
73    3.4    65  26.024
74    4.4    60  26.144
75    4.7    59  26.396
76    3.0    68  26.400
77    4.6    63  26.504
78    3.1    67  26.524
79    5.0    59  26.600
80    3.9    62  26.964
81    3.4    69  26.984
82    4.1    66  27.044
83    3.7    63  27.116
84    3.9    67  27.164
85    5.0    60  27.200
86    3.0    70  27.200
87    4.9    61  27.244
88    4.1    61  27.244
89    3.2    66  27.296
90    4.3    65  27.356
91    4.6    59  27.464
92    3.1    70  27.604
93    3.5    64  27.700
94    3.7    68  27.716
95    4.8    62  27.936
96    4.3    60  27.956
97    5.0    58  28.000
98    4.5    64  28.100
99    4.9    58  28.324
100   3.2    70  28.576
101   3.5    69  28.700
102   3.3    65  28.716
103   3.0    67  29.000
104   4.5    59  29.100
105   4.8    58  29.216
106   4.7    63  29.276
107   3.8    62  29.696
108   4.0    61  29.800
109   5.0    61  29.800
110   4.0    67  29.800
111   4.2    66  29.856
112   3.6    63  30.024
113   3.3    70  30.116
114   3.1    66  30.164
115   3.8    68  30.176
116   4.2    60  30.336
117   4.4    65  30.344
118   4.7    58  30.676
119   3.4    64  30.784
120   4.9    62  30.884
121   3.6    69  30.984
122   4.6    64  31.264
123   4.4    59  31.304
124   5.0    57  31.400
125   3.2    65  31.976
126   3.4    70  32.224
127   4.8    63  32.616
128   4.9    57  32.684
129   4.6    58  32.704
130   3.9    61  32.924
131   3.7    62  32.996
132   4.1    67  33.004
133   3.9    68  33.204
134   4.3    66  33.236
135   4.1    60  33.284
136   3.5    63  33.500
137   3.0    66  33.600
138   3.7    69  33.836
139   4.5    65  33.900
140   4.3    59  34.076
141   5.0    62  34.400
142   3.3    64  34.436
143   4.8    57  34.536
144   3.5    70  34.900
145   4.7    64  34.996
146   4.5    58  35.300
147   3.1    65  35.804
148   4.9    63  36.524
149   3.8    61  36.616
150   4.2    67  36.776
151   5.0    56  36.800
152   4.0    60  36.800
153   4.0    68  36.800
154   3.6    62  36.864
155   4.7    57  36.956
156   4.4    66  37.184
157   3.8    69  37.256
158   4.2    59  37.416
159   3.4    63  37.544
160   4.6    65  38.024
161   3.6    70  38.144
162   4.4    58  38.464
163   3.2    64  38.656
164   4.9    56  39.044
165   4.8    64  39.296
166   4.6    57  39.944
167   3.0    65  40.200
168   3.7    61  40.876
169   3.9    60  40.884
170   4.1    68  40.964
171   5.0    63  41.000
172   4.3    67  41.116
173   3.9    69  41.244
174   3.5    62  41.300
175   4.1    59  41.324
176   4.5    66  41.700
177   4.8    56  41.856
178   3.7    70  41.956
179   3.3    63  42.156
180   4.3    58  42.196
181   4.7    65  42.716
182   3.1    64  43.444
183   4.5    57  43.500
184   4.9    64  44.164
185   5.0    55  44.200
186   4.7    56  45.236
187   3.8    60  45.536
188   4.2    68  45.696
189   3.6    61  45.704
190   4.0    59  45.800
191   4.0    69  45.800
192   4.4    67  46.024
193   3.4    62  46.304
194   3.8    70  46.336
195   4.2    58  46.496
196   4.6    66  46.784
197   3.2    63  47.336
198   4.9    55  47.404
199   4.4    57  47.624
200   4.8    65  47.976
201   3.0    64  48.800
202   4.6    56  49.184
203   5.0    64  49.600
204   3.7    60  50.756
205   3.9    59  50.844
206   4.1    69  50.924
207   4.3    68  50.996
208   3.5    61  51.100
209   4.8    55  51.176
210   3.9    70  51.284
211   4.1    58  51.364
212   4.5    67  51.500
213   3.3    62  51.876
214   4.3    57  52.316
215   4.7    66  52.436
216   3.1    63  53.084
217   5.0    54  53.600
218   4.5    56  53.700
219   4.9    65  53.804
220   4.7    55  55.516
221   3.8    59  56.456
222   3.6    60  56.544
223   4.2    69  56.616
224   4.0    58  56.800
225   4.0    70  56.800
226   4.4    68  56.864
227   3.4    61  57.064
228   4.6    67  57.544
229   4.2    57  57.576
230   4.9    54  57.764
231   3.2    62  58.016
232   4.8    66  58.656
233   4.4    56  58.784
234   3.0    63  59.400
235   5.0    65  60.200
236   4.6    55  60.424
237   4.8    54  62.496
238   3.7    59  62.636
239   3.9    58  62.804
240   4.3    69  62.876
241   4.1    70  62.884
242   3.5    60  62.900
243   4.5    68  63.300
244   4.1    57  63.404
245   3.3    61  63.596
246   4.7    67  64.156
247   4.3    56  64.436
248   3.1    62  64.724
249   5.0    53  65.000
250   4.9    66  65.444
251   4.5    55  65.900
252   4.7    54  67.796
253   3.8    58  69.376
254   3.6    59  69.384
255   4.2    70  69.536
256   4.4    69  69.704
257   4.0    57  69.800
258   3.4    60  69.824
259   4.9    53  70.124
260   4.6    68  70.304
261   4.2    56  70.656
262   3.2    61  70.696
263   4.8    67  71.336
264   4.4    55  71.944
265   3.0    62  72.000
266   5.0    66  72.800
267   4.6    54  73.664
268   4.8    53  75.816
269   3.7    58  76.516
270   3.5    59  76.700
271   4.3    70  76.756
272   3.9    57  76.764
273   4.5    69  77.100
274   3.3    60  77.316
275   4.1    56  77.444
276   4.7    68  77.876
277   3.1    61  78.364
278   5.0    52  78.400
279   4.3    55  78.556
280   4.9    67  79.084
281   4.5    54  80.100
282   4.7    53  82.076
283   3.6    58  84.224
284   3.8    57  84.296
285   4.9    52  84.484
286   4.4    70  84.544
287   3.4    59  84.584
288   4.0    56  84.800
289   4.6    69  85.064
290   3.2    60  85.376
291   4.2    55  85.736
292   4.8    68  86.016
293   3.0    61  86.600
294   4.4    54  87.104
295   5.0    67  87.400
296   4.6    53  88.904
297   4.8    52  91.136
298   3.7    57  92.396
299   3.5    58  92.500
300   3.9    56  92.724
301   4.5    70  92.900
302   3.3    59  93.036
303   4.1    55  93.484
304   4.7    69  93.596
305   5.0    51  93.800
306   3.1    60  94.004
307   4.3    54  94.676
308   4.9    68  94.724
309   4.5    53  96.300
310   4.7    52  98.356
311   4.9    51 100.844
312   3.6    57 101.064
313   3.8    56 101.216
314   3.4    58 101.344
315   4.0    55 101.800
316   4.6    70 101.824
317   3.2    59 102.056
318   4.8    69 102.696
319   4.2    54 102.816
320   3.0    60 103.200
321   5.0    68 104.000
322   4.4    53 104.264
323   4.6    52 106.144
324   4.8    51 108.456
325   3.7    56 110.276
326   3.5    57 110.300
327   3.9    55 110.684
328   3.3    58 110.756
329   5.0    50 111.200
330   4.7    70 111.316
331   4.1    54 111.524
332   3.1    59 111.644
333   4.9    69 112.364
334   4.3    53 112.796
335   4.5    52 114.500
336   4.7    51 116.636
337   4.9    50 119.204
338   3.6    56 119.904
339   3.4    57 120.104
340   3.8    55 120.136
341   3.2    58 120.736
342   4.0    54 120.800
343   4.8    70 121.376
344   3.0    59 121.800
345   4.2    53 121.896
346   5.0    69 122.600
347   4.4    52 123.424
348   4.6    51 125.384
349   4.8    50 127.776
350   3.5    56 130.100
351   3.7    55 130.156
352   3.3    57 130.476
353   3.9    54 130.644
354   3.1    58 131.284
355   4.1    53 131.564
356   4.9    70 132.004
357   4.3    52 132.916
358   4.5    51 134.700
359   4.7    50 136.916
360   3.6    55 140.744
361   3.4    56 140.864
362   3.8    54 141.056
363   3.2    57 141.416
364   4.0    53 141.800
365   3.0    58 142.400
366   4.2    52 142.976
367   5.0    70 143.200
368   4.4    51 144.584
369   4.6    50 146.624
370   3.5    55 151.900
371   3.7    54 152.036
372   3.3    56 152.196
373   3.9    53 152.604
374   3.1    57 152.924
375   4.1    52 153.604
376   4.3    51 155.036
377   4.5    50 156.900
378   3.6    54 163.584
379   3.4    55 163.624
380   3.8    53 163.976
381   3.2    56 164.096
382   4.0    52 164.800
383   3.0    57 165.000
384   4.2    51 166.056
385   4.4    50 167.744
386   3.5    54 175.700
387   3.3    55 175.916
388   3.7    53 175.916
389   3.1    56 176.564
390   3.9    52 176.564
391   4.1    51 177.644
392   4.3    50 179.156
393   3.4    54 188.384
394   3.6    53 188.424
395   3.2    55 188.776
396   3.8    52 188.896
397   3.0    56 189.600
398   4.0    51 189.800
399   4.2    50 191.136
400   3.5    53 201.500
401   3.3    54 201.636
402   3.7    52 201.796
403   3.1    55 202.204
404   3.9    51 202.524
405   4.1    50 203.684
406   3.4    53 215.144
407   3.6    52 215.264
408   3.2    54 215.456
409   3.8    51 215.816
410   3.0    55 216.200
411   4.0    50 216.800
412   3.5    52 229.300
413   3.3    53 229.356
414   3.7    51 229.676
415   3.1    54 229.844
416   3.9    50 230.484
417   3.4    52 243.904
418   3.6    51 244.104
419   3.2    53 244.136
420   3.8    50 244.736
421   3.0    54 244.800
422   3.3    52 259.076
423   3.5    51 259.100
424   3.1    53 259.484
425   3.7    50 259.556
426   3.4    51 274.664
427   3.2    52 274.816
428   3.6    50 274.944
429   3.0    53 275.400
430   3.3    51 290.796
431   3.5    50 290.900
432   3.1    52 291.124
433   3.4    50 307.424
434   3.2    51 307.496
435   3.0    52 308.000
436   3.3    50 324.516
437   3.1    51 324.764
438   3.2    50 342.176
439   3.0    51 342.600
440   3.1    50 360.404
441   3.0    50 379.200</code></pre>
</div>
</div>
</div></div>
</section>
<section id="trial-and-error-with-optimizer-heuristic-algorithm-not-brute-force" class="slide level2">
<h2>Trial and Error with Optimizer (heuristic algorithm, not Brute Force)</h2>
<div class="cell">
<div>
<div id="webr-5" class="exercise-cell">

</div>
<script type="webr-5-contents">
eyJhdHRyIjp7ImVkaXQiOnRydWUsImV2YWwiOnRydWV9LCJjb2RlIjoiU3RhcnRGb3JCZXRhMUJldGEyPWMoMCw4MykgIyA4MyBpcyB0aGUgbWVhbiBncmFkZVxuXG5CZXN0QmV0YXM9b3B0aW0oU3RhcnRGb3JCZXRhMUJldGEyLCBGY3RNU0UsIGRhdGE9RGF0YU1vY2t1cClcblxuY2F0KFwiT3B0aW1pemVkIHZhbHVlcyBmb3IgQmV0YTEgYW5kIEJldGEyOlwiLCBCZXN0QmV0YXMkcGFyKSJ9
</script>
</div>
</div>
</section>
<section>
<section id="multivariate-ols-with-a-real-world-dataset" class="title-slide slide level1 center">
<h1>Multivariate OLS with a Real World Dataset</h1>

</section>
<section id="multivariate-ols-with-a-real-world-dataset-1" class="slide level2">
<h2>Multivariate OLS with a Real World Dataset</h2>
<ul>
<li>King County House Sale dataset (Kaggle 2015). House sales prices from May 2014 to May 2015 for King County in Washington State.</li>
<li>Several predictor variables.</li>
<li>We will use all 21,613 observations.</li>
</ul>
</section>
<section id="multivariate-analysis-three-predictor-variables" class="slide level2 scrollable">
<h2>Multivariate Analysis — Three Predictor Variables</h2>
<p><code>Sqft</code>: Living square footage of the house</p>
<p><code>Grade</code> Indicates the condition of houses (1 (worst) to 13 (best))</p>
<p><code>Waterfront</code>: Is house located at the waterfront (<code>yes</code> or <code>no</code>)</p>
<p><strong>Unfitted Model:</strong><br>
<span class="math display">\[
Price_i=\beta_1 Sqft+\beta_2 Grade_i+\beta_3 WaterfrontYes_i +\beta_4
\]</span></p>
</section>
<section id="multivariate-real-world-dataset-splitting" class="slide level2 scrollable">
<h2>Multivariate Real World Dataset — Splitting</h2>
<div class="cell">
<div>
<div id="webr-6" class="exercise-cell">

</div>
<script type="webr-6-contents">
eyJhdHRyIjp7ImVkaXQiOnRydWUsImV2YWwiOnRydWV9LCJjb2RlIjoiRGF0YUhvdXNpbmcgPVxuICByZWFkLmNzdihcImh0dHBzOi8vYWkubGFuZ2UtYW5hbHl0aWNzLmNvbS9kYXRhL0hvdXNpbmdEYXRhLmNzdlwiKXw+XG4gIGNsZWFuX25hbWVzKFwidXBwZXJfY2FtZWxcIikgfD5cbiAgc2VsZWN0KFByaWNlLCBTcWZ0PVNxZnRMaXZpbmcsIEdyYWRlLCBXYXRlcmZyb250KVxuXG5zZXQuc2VlZCg3NzcpXG5TcGxpdDcwMzA9aW5pdGlhbF9zcGxpdCgwLjcsZGF0YT1EYXRhSG91c2luZywgc3RyYXRhID0gUHJpY2UsIGJyZWFrcyA9IDUpXG5EYXRhVHJhaW49dHJhaW5pbmcoU3BsaXQ3MDMwKVxuRGF0YVRlc3Q9dGVzdGluZyhTcGxpdDcwMzApXG5jYXQoXCJEYXRhVHJhaW46XCIpXG5oZWFkKERhdGFUcmFpbilcbmNhdChcIkRhdGFUZXN0OlwiKVxuaGVhZChEYXRhVGVzdCkifQ==
</script>
</div>
</div>
</section>
<section id="dummy-and-one-hot-encoding" class="slide level2 scrollable">
<h2>Dummy and One-Hot Encoding</h2>
<p><strong>One-Hot Encoding</strong></p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
  Waterfront_yes Waterfront_no
           &lt;dbl&gt;         &lt;dbl&gt;
1              0             1
2              0             1
3              1             0
4              0             1</code></pre>
</div>
</div>
<p><em>One-hot</em> encoding is easier to interpret but causes problems in OLS (dummy trap) because one variable is redundant. We can calculate one variable from the other (<em>perfect multicollinearity)</em>:</p>
<p><span class="math display">\[Waterfront_{yes}=1-Waterfront_{no}\]</span></p>
</section>
<section id="dummy-and-one-hot-encoding-1" class="slide level2 scrollable">
<h2>Dummy and One-Hot Encoding</h2>
<p><strong>Dummy Encoding</strong></p>
<p>We use one variable less than we have categories. Waterfront has two categories. Therefore, we use one variable (e.g., <code>Waterfront_yes</code>):</p>
<p><strong>Dummy Encoding Example</strong></p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 1
  Waterfront_yes
           &lt;dbl&gt;
1              0
2              0
3              1
4              0</code></pre>
</div>
</div>
<p><strong>Note,</strong> dummy encoding can be done with <code>step_dummy()</code> in a <em>tidymodels recipe</em>.</p>
</section>
<section id="multivariate-analysis-building-the-recipe" class="slide level2">
<h2>Multivariate Analysis — Building the Recipe</h2>
<div class="cell">
<div>
<div id="webr-7" class="exercise-cell">

</div>
<script type="webr-7-contents">
eyJhdHRyIjp7ImVkaXQiOnRydWUsImV2YWwiOnRydWV9LCJjb2RlIjoiUmVjaXBlSG91c2VzPXJlY2lwZShQcmljZSB+IC4sIGRhdGE9RGF0YVRyYWluKSB8PiBcbiAgICAgICAgICAgICAgICAgICAgc3RlcF9kdW1teShXYXRlcmZyb250KVxudGlkeShSZWNpcGVIb3VzZXMpICMgcHJpbnRzIGEgdGlkeSBmb3JtIG9mIHRoZSByZWNpcGUifQ==
</script>
</div>
</div>
<p>Here is how the recipe later on (in the workflow) transforms the data:</p>
<div class="cell" data-autorun="true">
<div>
<div id="webr-8" class="exercise-cell">

</div>
<script type="webr-8-contents">
eyJhdHRyIjp7ImF1dG9ydW4iOnRydWUsImVjaG8iOmZhbHNlLCJlZGl0IjpmYWxzZSwiZXZhbCI6dHJ1ZX0sImNvZGUiOiJvcHRpb25zKHRpYmJsZS5wcmludF9tYXggPSBJbmYpXG5vcHRpb25zKHRpYmJsZS53aWR0aCA9IEluZilcbkRhdGFSZWNpcGU9anVpY2UoUmVjaXBlSG91c2VzIHw+IHByZXAoKSlcbmhlYWQoRGF0YVJlY2lwZSkifQ==
</script>
</div>
</div>
</section>
<section id="multivariate-analysis-building-the-model-design" class="slide level2">
<h2>Multivariate Analysis — Building the Model Design</h2>
<p><strong>Unfitted Model:</strong></p>
<div class="cell">
<div>
<div id="webr-9" class="exercise-cell">

</div>
<script type="webr-9-contents">
eyJhdHRyIjp7ImVkaXQiOnRydWUsImV2YWwiOnRydWV9LCJjb2RlIjoiTW9kZWxEZXNpZ25Ib3VzZXM9bGluZWFyX3JlZygpIHw+IFxuICBzZXRfZW5naW5lKFwibG1cIikgfD4gXG4gIHNldF9tb2RlKFwicmVncmVzc2lvblwiKVxucHJpbnQoTW9kZWxEZXNpZ25Ib3VzZXMpIn0=
</script>
</div>
</div>
</section>
<section id="multivariate-analysis-creating-workflow-fitting-to-the-training-data" class="slide level2">
<h2>Multivariate Analysis — Creating Workflow &amp; Fitting to the Training Data</h2>
<div class="cell">
<div>
<div id="webr-10" class="exercise-cell">

</div>
<script type="webr-10-contents">
eyJhdHRyIjp7ImVkaXQiOnRydWUsImV2YWwiOnRydWV9LCJjb2RlIjoiV0ZNb2RlbEhvdXNlcyA9IHdvcmtmbG93KCkgfD4gIFxuICAgICAgYWRkX3JlY2lwZShSZWNpcGVIb3VzZXMpIHw+IFxuICAgICAgYWRkX21vZGVsKE1vZGVsRGVzaWduSG91c2VzKSB8PiBcbiAgICAgIGZpdChEYXRhVHJhaW4pXG5wcmludChXRk1vZGVsSG91c2VzKSJ9
</script>
</div>
</div>
</section>
<section id="multivariate-analysis-predicting-testing-data-and-metrics" class="slide level2">
<h2>Multivariate Analysis — Predicting Testing Data and Metrics</h2>
<div class="cell">
<div>
<div id="webr-11" class="exercise-cell">

</div>
<script type="webr-11-contents">
eyJhdHRyIjp7ImVkaXQiOnRydWUsImV2YWwiOnRydWV9LCJjb2RlIjoiRGF0YVRlc3RXaXRoUHJlZGljdGlvbnMgPSBhdWdtZW50KFdGTW9kZWxIb3VzZXMsIG5ld19kYXRhPURhdGFUZXN0KVxubWV0cmljcyhEYXRhVGVzdFdpdGhQcmVkaWN0aW9ucywgdHJ1dGg9UHJpY2UsIGVzdGltYXRlPS5wcmVkKSJ9
</script>
</div>
</div>

<script type="webr-data">
eyJvcHRpb25zIjp7ImJhc2VVcmwiOiJodHRwczovL3dlYnIuci13YXNtLm9yZy92MC41LjQvIn0sInBhY2thZ2VzIjp7InBrZ3MiOlsiZXZhbHVhdGUiLCJrbml0ciIsImh0bWx0b29scyIsImRwbHlyIiwicnNhbXBsZSIsImphbml0b3IiLCJyZWNpcGVzIiwieWFyZHN0aWNrIiwicGFyc25pcCIsIndvcmtmbG93cyJdLCJyZXBvcyI6W119LCJyZW5kZXJfZGYiOiJkZWZhdWx0In0=
</script>
<script type="ojs-module-contents">
eyJjb250ZW50cyI6W3siY2VsbE5hbWUiOiJ3ZWJyLXdpZGdldC0xMSIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6IntcbiAgLy8gV2FpdCBmb3Igb3V0cHV0IHRvIGJlIHdyaXR0ZW4gdG8gdGhlIERPTSwgdGhlbiB0cmlnZ2VyIHdpZGdldCByZW5kZXJpbmdcbiAgYXdhaXQgX3dlYnJfdmFsdWVfMTE7XG4gIGlmICh3aW5kb3cuSFRNTFdpZGdldHMpIHtcbiAgICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKCk7XG4gIH1cbiAgaWYgKHdpbmRvdy5QYWdlZFRhYmxlRG9jKSB7XG4gICAgd2luZG93LlBhZ2VkVGFibGVEb2MuaW5pdEFsbCgpO1xuICB9XG59XG4ifSx7ImNlbGxOYW1lIjoid2Vici0xMSIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJzb3VyY2UiOiJ2aWV3b2YgX3dlYnJfZWRpdG9yXzExID0ge1xuICBjb25zdCB7IFdlYlJFeGVyY2lzZUVkaXRvciwgYjY0RGVjb2RlIH0gPSB3aW5kb3cuX2V4ZXJjaXNlX29qc19ydW50aW1lO1xuICBjb25zdCBzY3JpcHRDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihgc2NyaXB0W3R5cGU9XFxcIndlYnItMTEtY29udGVudHNcXFwiXWApLnRleHRDb250ZW50O1xuICBjb25zdCBibG9jayA9IEpTT04ucGFyc2UoYjY0RGVjb2RlKHNjcmlwdENvbnRlbnQpKTtcblxuICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IGlkOiBgd2Vici0xMS1jb250ZW50c2AgfSwgYmxvY2suYXR0cik7XG4gIGNvbnN0IGVkaXRvciA9IG5ldyBXZWJSRXhlcmNpc2VFZGl0b3Iod2ViUk9qcy53ZWJSUHJvbWlzZSwgYmxvY2suY29kZSwgb3B0aW9ucyk7XG5cbiAgcmV0dXJuIGVkaXRvci5jb250YWluZXI7XG59XG5fd2Vicl92YWx1ZV8xMSA9IHdlYlJPanMucHJvY2Vzcyhfd2Vicl9lZGl0b3JfMTEsIHt9KTtcbiJ9LHsiY2VsbE5hbWUiOiJ3ZWJyLXdpZGdldC0xMCIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6IntcbiAgLy8gV2FpdCBmb3Igb3V0cHV0IHRvIGJlIHdyaXR0ZW4gdG8gdGhlIERPTSwgdGhlbiB0cmlnZ2VyIHdpZGdldCByZW5kZXJpbmdcbiAgYXdhaXQgX3dlYnJfdmFsdWVfMTA7XG4gIGlmICh3aW5kb3cuSFRNTFdpZGdldHMpIHtcbiAgICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKCk7XG4gIH1cbiAgaWYgKHdpbmRvdy5QYWdlZFRhYmxlRG9jKSB7XG4gICAgd2luZG93LlBhZ2VkVGFibGVEb2MuaW5pdEFsbCgpO1xuICB9XG59XG4ifSx7ImNlbGxOYW1lIjoid2Vici0xMCIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJzb3VyY2UiOiJ2aWV3b2YgX3dlYnJfZWRpdG9yXzEwID0ge1xuICBjb25zdCB7IFdlYlJFeGVyY2lzZUVkaXRvciwgYjY0RGVjb2RlIH0gPSB3aW5kb3cuX2V4ZXJjaXNlX29qc19ydW50aW1lO1xuICBjb25zdCBzY3JpcHRDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihgc2NyaXB0W3R5cGU9XFxcIndlYnItMTAtY29udGVudHNcXFwiXWApLnRleHRDb250ZW50O1xuICBjb25zdCBibG9jayA9IEpTT04ucGFyc2UoYjY0RGVjb2RlKHNjcmlwdENvbnRlbnQpKTtcblxuICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IGlkOiBgd2Vici0xMC1jb250ZW50c2AgfSwgYmxvY2suYXR0cik7XG4gIGNvbnN0IGVkaXRvciA9IG5ldyBXZWJSRXhlcmNpc2VFZGl0b3Iod2ViUk9qcy53ZWJSUHJvbWlzZSwgYmxvY2suY29kZSwgb3B0aW9ucyk7XG5cbiAgcmV0dXJuIGVkaXRvci5jb250YWluZXI7XG59XG5fd2Vicl92YWx1ZV8xMCA9IHdlYlJPanMucHJvY2Vzcyhfd2Vicl9lZGl0b3JfMTAsIHt9KTtcbiJ9LHsiY2VsbE5hbWUiOiJ3ZWJyLXdpZGdldC05IiwiaW5saW5lIjpmYWxzZSwibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoie1xuICAvLyBXYWl0IGZvciBvdXRwdXQgdG8gYmUgd3JpdHRlbiB0byB0aGUgRE9NLCB0aGVuIHRyaWdnZXIgd2lkZ2V0IHJlbmRlcmluZ1xuICBhd2FpdCBfd2Vicl92YWx1ZV85O1xuICBpZiAod2luZG93LkhUTUxXaWRnZXRzKSB7XG4gICAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlcigpO1xuICB9XG4gIGlmICh3aW5kb3cuUGFnZWRUYWJsZURvYykge1xuICAgIHdpbmRvdy5QYWdlZFRhYmxlRG9jLmluaXRBbGwoKTtcbiAgfVxufVxuIn0seyJjZWxsTmFtZSI6IndlYnItOSIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJzb3VyY2UiOiJ2aWV3b2YgX3dlYnJfZWRpdG9yXzkgPSB7XG4gIGNvbnN0IHsgV2ViUkV4ZXJjaXNlRWRpdG9yLCBiNjREZWNvZGUgfSA9IHdpbmRvdy5fZXhlcmNpc2Vfb2pzX3J1bnRpbWU7XG4gIGNvbnN0IHNjcmlwdENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbdHlwZT1cXFwid2Vici05LWNvbnRlbnRzXFxcIl1gKS50ZXh0Q29udGVudDtcbiAgY29uc3QgYmxvY2sgPSBKU09OLnBhcnNlKGI2NERlY29kZShzY3JpcHRDb250ZW50KSk7XG5cbiAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBpZDogYHdlYnItOS1jb250ZW50c2AgfSwgYmxvY2suYXR0cik7XG4gIGNvbnN0IGVkaXRvciA9IG5ldyBXZWJSRXhlcmNpc2VFZGl0b3Iod2ViUk9qcy53ZWJSUHJvbWlzZSwgYmxvY2suY29kZSwgb3B0aW9ucyk7XG5cbiAgcmV0dXJuIGVkaXRvci5jb250YWluZXI7XG59XG5fd2Vicl92YWx1ZV85ID0gd2ViUk9qcy5wcm9jZXNzKF93ZWJyX2VkaXRvcl85LCB7fSk7XG4ifSx7ImNlbGxOYW1lIjoid2Vici13aWRnZXQtOCIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6IntcbiAgLy8gV2FpdCBmb3Igb3V0cHV0IHRvIGJlIHdyaXR0ZW4gdG8gdGhlIERPTSwgdGhlbiB0cmlnZ2VyIHdpZGdldCByZW5kZXJpbmdcbiAgYXdhaXQgX3dlYnJfdmFsdWVfODtcbiAgaWYgKHdpbmRvdy5IVE1MV2lkZ2V0cykge1xuICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIoKTtcbiAgfVxuICBpZiAod2luZG93LlBhZ2VkVGFibGVEb2MpIHtcbiAgICB3aW5kb3cuUGFnZWRUYWJsZURvYy5pbml0QWxsKCk7XG4gIH1cbn1cbiJ9LHsiY2VsbE5hbWUiOiJ3ZWJyLTgiLCJpbmxpbmUiOmZhbHNlLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0Iiwic291cmNlIjoiX3dlYnJfdmFsdWVfOCA9IHtcbiAgY29uc3QgeyBoaWdobGlnaHRSLCBiNjREZWNvZGUgfSA9IHdpbmRvdy5fZXhlcmNpc2Vfb2pzX3J1bnRpbWU7XG4gIGNvbnN0IHNjcmlwdENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbdHlwZT1cXFwid2Vici04LWNvbnRlbnRzXFxcIl1gKS50ZXh0Q29udGVudDtcbiAgY29uc3QgYmxvY2sgPSBKU09OLnBhcnNlKGI2NERlY29kZShzY3JpcHRDb250ZW50KSk7XG5cbiAgLy8gRGVmYXVsdCBldmFsdWF0aW9uIGNvbmZpZ3VyYXRpb25cbiAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgIGlkOiBcIndlYnItOC1jb250ZW50c1wiLFxuICAgIGVjaG86IHRydWUsXG4gICAgb3V0cHV0OiB0cnVlXG4gIH0sIGJsb2NrLmF0dHIpO1xuXG4gIC8vIEV2YWx1YXRlIHRoZSBwcm92aWRlZCBSIGNvZGVcbiAgY29uc3QgcmVzdWx0ID0gd2ViUk9qcy5wcm9jZXNzKHtjb2RlOiBibG9jay5jb2RlLCBvcHRpb25zfSwge30pO1xuXG4gIC8vIEVhcmx5IHlpZWxkIHdoaWxlIHdlIHdhaXQgZm9yIHRoZSBmaXJzdCBldmFsdWF0aW9uIGFuZCByZW5kZXJcbiAgaWYgKG9wdGlvbnMub3V0cHV0ICYmICEoXCI4XCIgaW4gd2ViUk9qcy5yZW5kZXJlZE9qcykpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbnN0IHNwaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgaWYgKG9wdGlvbnMuZWNobykge1xuICAgICAgLy8gU2hvdyBvdXRwdXQgYXMgaGlnaGxpZ2h0ZWQgc291cmNlXG4gICAgICBjb25zdCBwcmVFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInByZVwiKTtcbiAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSBcInNvdXJjZUNvZGVcIjtcbiAgICAgIHByZUVsZW0uY2xhc3NOYW1lID0gXCJzb3VyY2VDb2RlIHJcIjtcbiAgICAgIHByZUVsZW0uYXBwZW5kQ2hpbGQoaGlnaGxpZ2h0UihibG9jay5jb2RlKSk7XG4gICAgICBzcGlubmVyLmNsYXNzTmFtZSA9IFwic3Bpbm5lci1ncm93IHNwaW5uZXItZ3Jvdy1zbSBtLTIgcG9zaXRpb24tYWJzb2x1dGUgdG9wLTAgZW5kLTBcIjtcbiAgICAgIHByZUVsZW0uYXBwZW5kQ2hpbGQoc3Bpbm5lcik7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocHJlRWxlbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNwaW5uZXIuY2xhc3NOYW1lID0gXCJzcGlubmVyLWJvcmRlciBzcGlubmVyLWJvcmRlci1zbVwiO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHNwaW5uZXIpO1xuICAgIH1cblxuICAgIHlpZWxkIGNvbnRhaW5lcjtcbiAgfVxuXG4gIHdlYlJPanMucmVuZGVyZWRPanNbXCI4XCJdID0gdHJ1ZTtcbiAgeWllbGQgYXdhaXQgcmVzdWx0O1xufVxuIn0seyJjZWxsTmFtZSI6IndlYnItd2lkZ2V0LTciLCJpbmxpbmUiOmZhbHNlLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJ7XG4gIC8vIFdhaXQgZm9yIG91dHB1dCB0byBiZSB3cml0dGVuIHRvIHRoZSBET00sIHRoZW4gdHJpZ2dlciB3aWRnZXQgcmVuZGVyaW5nXG4gIGF3YWl0IF93ZWJyX3ZhbHVlXzc7XG4gIGlmICh3aW5kb3cuSFRNTFdpZGdldHMpIHtcbiAgICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKCk7XG4gIH1cbiAgaWYgKHdpbmRvdy5QYWdlZFRhYmxlRG9jKSB7XG4gICAgd2luZG93LlBhZ2VkVGFibGVEb2MuaW5pdEFsbCgpO1xuICB9XG59XG4ifSx7ImNlbGxOYW1lIjoid2Vici03IiwiaW5saW5lIjpmYWxzZSwibWV0aG9kTmFtZSI6ImludGVycHJldCIsInNvdXJjZSI6InZpZXdvZiBfd2Vicl9lZGl0b3JfNyA9IHtcbiAgY29uc3QgeyBXZWJSRXhlcmNpc2VFZGl0b3IsIGI2NERlY29kZSB9ID0gd2luZG93Ll9leGVyY2lzZV9vanNfcnVudGltZTtcbiAgY29uc3Qgc2NyaXB0Q29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYHNjcmlwdFt0eXBlPVxcXCJ3ZWJyLTctY29udGVudHNcXFwiXWApLnRleHRDb250ZW50O1xuICBjb25zdCBibG9jayA9IEpTT04ucGFyc2UoYjY0RGVjb2RlKHNjcmlwdENvbnRlbnQpKTtcblxuICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IGlkOiBgd2Vici03LWNvbnRlbnRzYCB9LCBibG9jay5hdHRyKTtcbiAgY29uc3QgZWRpdG9yID0gbmV3IFdlYlJFeGVyY2lzZUVkaXRvcih3ZWJST2pzLndlYlJQcm9taXNlLCBibG9jay5jb2RlLCBvcHRpb25zKTtcblxuICByZXR1cm4gZWRpdG9yLmNvbnRhaW5lcjtcbn1cbl93ZWJyX3ZhbHVlXzcgPSB3ZWJST2pzLnByb2Nlc3MoX3dlYnJfZWRpdG9yXzcsIHt9KTtcbiJ9LHsiY2VsbE5hbWUiOiJ3ZWJyLXdpZGdldC02IiwiaW5saW5lIjpmYWxzZSwibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoie1xuICAvLyBXYWl0IGZvciBvdXRwdXQgdG8gYmUgd3JpdHRlbiB0byB0aGUgRE9NLCB0aGVuIHRyaWdnZXIgd2lkZ2V0IHJlbmRlcmluZ1xuICBhd2FpdCBfd2Vicl92YWx1ZV82O1xuICBpZiAod2luZG93LkhUTUxXaWRnZXRzKSB7XG4gICAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlcigpO1xuICB9XG4gIGlmICh3aW5kb3cuUGFnZWRUYWJsZURvYykge1xuICAgIHdpbmRvdy5QYWdlZFRhYmxlRG9jLmluaXRBbGwoKTtcbiAgfVxufVxuIn0seyJjZWxsTmFtZSI6IndlYnItNiIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJzb3VyY2UiOiJ2aWV3b2YgX3dlYnJfZWRpdG9yXzYgPSB7XG4gIGNvbnN0IHsgV2ViUkV4ZXJjaXNlRWRpdG9yLCBiNjREZWNvZGUgfSA9IHdpbmRvdy5fZXhlcmNpc2Vfb2pzX3J1bnRpbWU7XG4gIGNvbnN0IHNjcmlwdENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbdHlwZT1cXFwid2Vici02LWNvbnRlbnRzXFxcIl1gKS50ZXh0Q29udGVudDtcbiAgY29uc3QgYmxvY2sgPSBKU09OLnBhcnNlKGI2NERlY29kZShzY3JpcHRDb250ZW50KSk7XG5cbiAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBpZDogYHdlYnItNi1jb250ZW50c2AgfSwgYmxvY2suYXR0cik7XG4gIGNvbnN0IGVkaXRvciA9IG5ldyBXZWJSRXhlcmNpc2VFZGl0b3Iod2ViUk9qcy53ZWJSUHJvbWlzZSwgYmxvY2suY29kZSwgb3B0aW9ucyk7XG5cbiAgcmV0dXJuIGVkaXRvci5jb250YWluZXI7XG59XG5fd2Vicl92YWx1ZV82ID0gd2ViUk9qcy5wcm9jZXNzKF93ZWJyX2VkaXRvcl82LCB7fSk7XG4ifSx7ImNlbGxOYW1lIjoid2Vici13aWRnZXQtNSIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6IntcbiAgLy8gV2FpdCBmb3Igb3V0cHV0IHRvIGJlIHdyaXR0ZW4gdG8gdGhlIERPTSwgdGhlbiB0cmlnZ2VyIHdpZGdldCByZW5kZXJpbmdcbiAgYXdhaXQgX3dlYnJfdmFsdWVfNTtcbiAgaWYgKHdpbmRvdy5IVE1MV2lkZ2V0cykge1xuICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIoKTtcbiAgfVxuICBpZiAod2luZG93LlBhZ2VkVGFibGVEb2MpIHtcbiAgICB3aW5kb3cuUGFnZWRUYWJsZURvYy5pbml0QWxsKCk7XG4gIH1cbn1cbiJ9LHsiY2VsbE5hbWUiOiJ3ZWJyLTUiLCJpbmxpbmUiOmZhbHNlLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0Iiwic291cmNlIjoidmlld29mIF93ZWJyX2VkaXRvcl81ID0ge1xuICBjb25zdCB7IFdlYlJFeGVyY2lzZUVkaXRvciwgYjY0RGVjb2RlIH0gPSB3aW5kb3cuX2V4ZXJjaXNlX29qc19ydW50aW1lO1xuICBjb25zdCBzY3JpcHRDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihgc2NyaXB0W3R5cGU9XFxcIndlYnItNS1jb250ZW50c1xcXCJdYCkudGV4dENvbnRlbnQ7XG4gIGNvbnN0IGJsb2NrID0gSlNPTi5wYXJzZShiNjREZWNvZGUoc2NyaXB0Q29udGVudCkpO1xuXG4gIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHsgaWQ6IGB3ZWJyLTUtY29udGVudHNgIH0sIGJsb2NrLmF0dHIpO1xuICBjb25zdCBlZGl0b3IgPSBuZXcgV2ViUkV4ZXJjaXNlRWRpdG9yKHdlYlJPanMud2ViUlByb21pc2UsIGJsb2NrLmNvZGUsIG9wdGlvbnMpO1xuXG4gIHJldHVybiBlZGl0b3IuY29udGFpbmVyO1xufVxuX3dlYnJfdmFsdWVfNSA9IHdlYlJPanMucHJvY2Vzcyhfd2Vicl9lZGl0b3JfNSwge30pO1xuIn0seyJjZWxsTmFtZSI6IndlYnItd2lkZ2V0LTQiLCJpbmxpbmUiOmZhbHNlLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJ7XG4gIC8vIFdhaXQgZm9yIG91dHB1dCB0byBiZSB3cml0dGVuIHRvIHRoZSBET00sIHRoZW4gdHJpZ2dlciB3aWRnZXQgcmVuZGVyaW5nXG4gIGF3YWl0IF93ZWJyX3ZhbHVlXzQ7XG4gIGlmICh3aW5kb3cuSFRNTFdpZGdldHMpIHtcbiAgICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKCk7XG4gIH1cbiAgaWYgKHdpbmRvdy5QYWdlZFRhYmxlRG9jKSB7XG4gICAgd2luZG93LlBhZ2VkVGFibGVEb2MuaW5pdEFsbCgpO1xuICB9XG59XG4ifSx7ImNlbGxOYW1lIjoid2Vici00IiwiaW5saW5lIjpmYWxzZSwibWV0aG9kTmFtZSI6ImludGVycHJldCIsInNvdXJjZSI6InZpZXdvZiBfd2Vicl9lZGl0b3JfNCA9IHtcbiAgY29uc3QgeyBXZWJSRXhlcmNpc2VFZGl0b3IsIGI2NERlY29kZSB9ID0gd2luZG93Ll9leGVyY2lzZV9vanNfcnVudGltZTtcbiAgY29uc3Qgc2NyaXB0Q29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYHNjcmlwdFt0eXBlPVxcXCJ3ZWJyLTQtY29udGVudHNcXFwiXWApLnRleHRDb250ZW50O1xuICBjb25zdCBibG9jayA9IEpTT04ucGFyc2UoYjY0RGVjb2RlKHNjcmlwdENvbnRlbnQpKTtcblxuICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IGlkOiBgd2Vici00LWNvbnRlbnRzYCB9LCBibG9jay5hdHRyKTtcbiAgY29uc3QgZWRpdG9yID0gbmV3IFdlYlJFeGVyY2lzZUVkaXRvcih3ZWJST2pzLndlYlJQcm9taXNlLCBibG9jay5jb2RlLCBvcHRpb25zKTtcblxuICByZXR1cm4gZWRpdG9yLmNvbnRhaW5lcjtcbn1cbl93ZWJyX3ZhbHVlXzQgPSB3ZWJST2pzLnByb2Nlc3MoX3dlYnJfZWRpdG9yXzQsIHt9KTtcbiJ9LHsiY2VsbE5hbWUiOiJ3ZWJyLXdpZGdldC0zIiwiaW5saW5lIjpmYWxzZSwibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoie1xuICAvLyBXYWl0IGZvciBvdXRwdXQgdG8gYmUgd3JpdHRlbiB0byB0aGUgRE9NLCB0aGVuIHRyaWdnZXIgd2lkZ2V0IHJlbmRlcmluZ1xuICBhd2FpdCBfd2Vicl92YWx1ZV8zO1xuICBpZiAod2luZG93LkhUTUxXaWRnZXRzKSB7XG4gICAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlcigpO1xuICB9XG4gIGlmICh3aW5kb3cuUGFnZWRUYWJsZURvYykge1xuICAgIHdpbmRvdy5QYWdlZFRhYmxlRG9jLmluaXRBbGwoKTtcbiAgfVxufVxuIn0seyJjZWxsTmFtZSI6IndlYnItMyIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJzb3VyY2UiOiJ2aWV3b2YgX3dlYnJfZWRpdG9yXzMgPSB7XG4gIGNvbnN0IHsgV2ViUkV4ZXJjaXNlRWRpdG9yLCBiNjREZWNvZGUgfSA9IHdpbmRvdy5fZXhlcmNpc2Vfb2pzX3J1bnRpbWU7XG4gIGNvbnN0IHNjcmlwdENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbdHlwZT1cXFwid2Vici0zLWNvbnRlbnRzXFxcIl1gKS50ZXh0Q29udGVudDtcbiAgY29uc3QgYmxvY2sgPSBKU09OLnBhcnNlKGI2NERlY29kZShzY3JpcHRDb250ZW50KSk7XG5cbiAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBpZDogYHdlYnItMy1jb250ZW50c2AgfSwgYmxvY2suYXR0cik7XG4gIGNvbnN0IGVkaXRvciA9IG5ldyBXZWJSRXhlcmNpc2VFZGl0b3Iod2ViUk9qcy53ZWJSUHJvbWlzZSwgYmxvY2suY29kZSwgb3B0aW9ucyk7XG5cbiAgcmV0dXJuIGVkaXRvci5jb250YWluZXI7XG59XG5fd2Vicl92YWx1ZV8zID0gd2ViUk9qcy5wcm9jZXNzKF93ZWJyX2VkaXRvcl8zLCB7fSk7XG4ifSx7ImNlbGxOYW1lIjoid2Vici13aWRnZXQtMiIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6IntcbiAgLy8gV2FpdCBmb3Igb3V0cHV0IHRvIGJlIHdyaXR0ZW4gdG8gdGhlIERPTSwgdGhlbiB0cmlnZ2VyIHdpZGdldCByZW5kZXJpbmdcbiAgYXdhaXQgX3dlYnJfdmFsdWVfMjtcbiAgaWYgKHdpbmRvdy5IVE1MV2lkZ2V0cykge1xuICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIoKTtcbiAgfVxuICBpZiAod2luZG93LlBhZ2VkVGFibGVEb2MpIHtcbiAgICB3aW5kb3cuUGFnZWRUYWJsZURvYy5pbml0QWxsKCk7XG4gIH1cbn1cbiJ9LHsiY2VsbE5hbWUiOiJ3ZWJyLTIiLCJpbmxpbmUiOmZhbHNlLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0Iiwic291cmNlIjoiX3dlYnJfdmFsdWVfMiA9IHtcbiAgY29uc3QgeyBoaWdobGlnaHRSLCBiNjREZWNvZGUgfSA9IHdpbmRvdy5fZXhlcmNpc2Vfb2pzX3J1bnRpbWU7XG4gIGNvbnN0IHNjcmlwdENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbdHlwZT1cXFwid2Vici0yLWNvbnRlbnRzXFxcIl1gKS50ZXh0Q29udGVudDtcbiAgY29uc3QgYmxvY2sgPSBKU09OLnBhcnNlKGI2NERlY29kZShzY3JpcHRDb250ZW50KSk7XG5cbiAgLy8gRGVmYXVsdCBldmFsdWF0aW9uIGNvbmZpZ3VyYXRpb25cbiAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgIGlkOiBcIndlYnItMi1jb250ZW50c1wiLFxuICAgIGVjaG86IHRydWUsXG4gICAgb3V0cHV0OiB0cnVlXG4gIH0sIGJsb2NrLmF0dHIpO1xuXG4gIC8vIEV2YWx1YXRlIHRoZSBwcm92aWRlZCBSIGNvZGVcbiAgY29uc3QgcmVzdWx0ID0gd2ViUk9qcy5wcm9jZXNzKHtjb2RlOiBibG9jay5jb2RlLCBvcHRpb25zfSwge30pO1xuXG4gIC8vIEVhcmx5IHlpZWxkIHdoaWxlIHdlIHdhaXQgZm9yIHRoZSBmaXJzdCBldmFsdWF0aW9uIGFuZCByZW5kZXJcbiAgaWYgKG9wdGlvbnMub3V0cHV0ICYmICEoXCIyXCIgaW4gd2ViUk9qcy5yZW5kZXJlZE9qcykpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbnN0IHNwaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgaWYgKG9wdGlvbnMuZWNobykge1xuICAgICAgLy8gU2hvdyBvdXRwdXQgYXMgaGlnaGxpZ2h0ZWQgc291cmNlXG4gICAgICBjb25zdCBwcmVFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInByZVwiKTtcbiAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSBcInNvdXJjZUNvZGVcIjtcbiAgICAgIHByZUVsZW0uY2xhc3NOYW1lID0gXCJzb3VyY2VDb2RlIHJcIjtcbiAgICAgIHByZUVsZW0uYXBwZW5kQ2hpbGQoaGlnaGxpZ2h0UihibG9jay5jb2RlKSk7XG4gICAgICBzcGlubmVyLmNsYXNzTmFtZSA9IFwic3Bpbm5lci1ncm93IHNwaW5uZXItZ3Jvdy1zbSBtLTIgcG9zaXRpb24tYWJzb2x1dGUgdG9wLTAgZW5kLTBcIjtcbiAgICAgIHByZUVsZW0uYXBwZW5kQ2hpbGQoc3Bpbm5lcik7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocHJlRWxlbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNwaW5uZXIuY2xhc3NOYW1lID0gXCJzcGlubmVyLWJvcmRlciBzcGlubmVyLWJvcmRlci1zbVwiO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHNwaW5uZXIpO1xuICAgIH1cblxuICAgIHlpZWxkIGNvbnRhaW5lcjtcbiAgfVxuXG4gIHdlYlJPanMucmVuZGVyZWRPanNbXCIyXCJdID0gdHJ1ZTtcbiAgeWllbGQgYXdhaXQgcmVzdWx0O1xufVxuIn0seyJjZWxsTmFtZSI6IndlYnItd2lkZ2V0LTEiLCJpbmxpbmUiOmZhbHNlLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJ7XG4gIC8vIFdhaXQgZm9yIG91dHB1dCB0byBiZSB3cml0dGVuIHRvIHRoZSBET00sIHRoZW4gdHJpZ2dlciB3aWRnZXQgcmVuZGVyaW5nXG4gIGF3YWl0IF93ZWJyX3ZhbHVlXzE7XG4gIGlmICh3aW5kb3cuSFRNTFdpZGdldHMpIHtcbiAgICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKCk7XG4gIH1cbiAgaWYgKHdpbmRvdy5QYWdlZFRhYmxlRG9jKSB7XG4gICAgd2luZG93LlBhZ2VkVGFibGVEb2MuaW5pdEFsbCgpO1xuICB9XG59XG4ifSx7ImNlbGxOYW1lIjoid2Vici0xIiwiaW5saW5lIjpmYWxzZSwibWV0aG9kTmFtZSI6ImludGVycHJldCIsInNvdXJjZSI6Il93ZWJyX3ZhbHVlXzEgPSB7XG4gIGNvbnN0IHsgaGlnaGxpZ2h0UiwgYjY0RGVjb2RlIH0gPSB3aW5kb3cuX2V4ZXJjaXNlX29qc19ydW50aW1lO1xuICBjb25zdCBzY3JpcHRDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihgc2NyaXB0W3R5cGU9XFxcIndlYnItMS1jb250ZW50c1xcXCJdYCkudGV4dENvbnRlbnQ7XG4gIGNvbnN0IGJsb2NrID0gSlNPTi5wYXJzZShiNjREZWNvZGUoc2NyaXB0Q29udGVudCkpO1xuXG4gIC8vIERlZmF1bHQgZXZhbHVhdGlvbiBjb25maWd1cmF0aW9uXG4gIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICBpZDogXCJ3ZWJyLTEtY29udGVudHNcIixcbiAgICBlY2hvOiB0cnVlLFxuICAgIG91dHB1dDogdHJ1ZVxuICB9LCBibG9jay5hdHRyKTtcblxuICAvLyBFdmFsdWF0ZSB0aGUgcHJvdmlkZWQgUiBjb2RlXG4gIGNvbnN0IHJlc3VsdCA9IHdlYlJPanMucHJvY2Vzcyh7Y29kZTogYmxvY2suY29kZSwgb3B0aW9uc30sIHt9KTtcblxuICAvLyBFYXJseSB5aWVsZCB3aGlsZSB3ZSB3YWl0IGZvciB0aGUgZmlyc3QgZXZhbHVhdGlvbiBhbmQgcmVuZGVyXG4gIGlmIChvcHRpb25zLm91dHB1dCAmJiAhKFwiMVwiIGluIHdlYlJPanMucmVuZGVyZWRPanMpKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjb25zdCBzcGlubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgIGlmIChvcHRpb25zLmVjaG8pIHtcbiAgICAgIC8vIFNob3cgb3V0cHV0IGFzIGhpZ2hsaWdodGVkIHNvdXJjZVxuICAgICAgY29uc3QgcHJlRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwcmVcIik7XG4gICAgICBjb250YWluZXIuY2xhc3NOYW1lID0gXCJzb3VyY2VDb2RlXCI7XG4gICAgICBwcmVFbGVtLmNsYXNzTmFtZSA9IFwic291cmNlQ29kZSByXCI7XG4gICAgICBwcmVFbGVtLmFwcGVuZENoaWxkKGhpZ2hsaWdodFIoYmxvY2suY29kZSkpO1xuICAgICAgc3Bpbm5lci5jbGFzc05hbWUgPSBcInNwaW5uZXItZ3JvdyBzcGlubmVyLWdyb3ctc20gbS0yIHBvc2l0aW9uLWFic29sdXRlIHRvcC0wIGVuZC0wXCI7XG4gICAgICBwcmVFbGVtLmFwcGVuZENoaWxkKHNwaW5uZXIpO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHByZUVsZW0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzcGlubmVyLmNsYXNzTmFtZSA9IFwic3Bpbm5lci1ib3JkZXIgc3Bpbm5lci1ib3JkZXItc21cIjtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChzcGlubmVyKTtcbiAgICB9XG5cbiAgICB5aWVsZCBjb250YWluZXI7XG4gIH1cblxuICB3ZWJST2pzLnJlbmRlcmVkT2pzW1wiMVwiXSA9IHRydWU7XG4gIHlpZWxkIGF3YWl0IHJlc3VsdDtcbn1cbiJ9LHsiY2VsbE5hbWUiOiJ3ZWJyLXByZWx1ZGUiLCJpbmxpbmUiOmZhbHNlLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJ3ZWJST2pzID0ge1xuICBjb25zdCB7IFdlYlIsIENoYW5uZWxUeXBlIH0gPSB3aW5kb3cuX2V4ZXJjaXNlX29qc19ydW50aW1lLldlYlI7XG4gIGNvbnN0IHtcbiAgICBXZWJSRXZhbHVhdG9yLFxuICAgIFdlYlJFbnZpcm9ubWVudE1hbmFnZXIsXG4gICAgc2V0dXBSLFxuICAgIGI2NERlY29kZSxcbiAgICBjb2xsYXBzZVBhdGhcbiAgfSA9IHdpbmRvdy5fZXhlcmNpc2Vfb2pzX3J1bnRpbWU7XG5cbiAgY29uc3Qgc3RhdHVzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJleGVyY2lzZS1sb2FkaW5nLXN0YXR1c1wiKTtcbiAgY29uc3QgaW5kaWNhdG9yQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJleGVyY2lzZS1sb2FkaW5nLWluZGljYXRvclwiKTtcbiAgaW5kaWNhdG9yQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJkLW5vbmVcIik7XG5cbiAgbGV0IHN0YXR1c1RleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gIHN0YXR1c1RleHQuY2xhc3NMaXN0ID0gXCJleGVyY2lzZS1sb2FkaW5nLWRldGFpbHNcIjtcbiAgc3RhdHVzVGV4dCA9IHN0YXR1c0NvbnRhaW5lci5hcHBlbmRDaGlsZChzdGF0dXNUZXh0KTtcbiAgc3RhdHVzVGV4dC50ZXh0Q29udGVudCA9IGBJbml0aWFsaXNlYDtcblxuICAvLyBIb2lzdCBpbmRpY2F0b3Igb3V0IGZyb20gZmluYWwgc2xpZGUgd2hlbiBydW5uaW5nIHVuZGVyIHJldmVhbFxuICBjb25zdCByZXZlYWxTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJldmVhbCAuZXhlcmNpc2UtbG9hZGluZy1pbmRpY2F0b3JcIik7XG4gIGlmIChyZXZlYWxTdGF0dXMpIHtcbiAgICByZXZlYWxTdGF0dXMucmVtb3ZlKCk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZXZlYWwgPiAuc2xpZGVzXCIpLmFwcGVuZENoaWxkKHJldmVhbFN0YXR1cyk7XG4gIH1cblxuICAvLyBNYWtlIGFueSByZXZlYWwgc2xpZGVzIHdpdGggbGl2ZSBjZWxscyBzY3JvbGxhYmxlXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmV2ZWFsIC5leGVyY2lzZS1jZWxsXCIpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgZWwuY2xvc2VzdCgnc2VjdGlvbi5zbGlkZScpLmNsYXNzTGlzdC5hZGQoXCJzY3JvbGxhYmxlXCIpO1xuICB9KVxuXG4gIC8vIHdlYlIgc3VwcGxlbWVudGFsIGRhdGEgYW5kIG9wdGlvbnNcbiAgY29uc3QgZGF0YUNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbdHlwZT1cXFwid2Vici1kYXRhXFxcIl1gKS50ZXh0Q29udGVudDtcbiAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoYjY0RGVjb2RlKGRhdGFDb250ZW50KSk7XG5cbiAgLy8gR3JhYiBsaXN0IG9mIHJlc291cmNlcyB0byBiZSBkb3dubG9hZGVkXG4gIGNvbnN0IGZpbGVzQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYHNjcmlwdFt0eXBlPVxcXCJ2ZnMtZmlsZVxcXCJdYCkudGV4dENvbnRlbnQ7XG4gIGNvbnN0IGZpbGVzID0gSlNPTi5wYXJzZShiNjREZWNvZGUoZmlsZXNDb250ZW50KSk7XG5cbiAgLy8gVXNlIFBvc3RNZXNzYWdlIGNoYW5uZWwgZm9yIGFzeW5jIGNvbW11bmljYXRpb25cbiAgLy8gV2UgZG8gbm90IGV4cGVjdCB0byB0YWtlIG5lc3RlZCBwcm9tcHQgaW5wdXQgaW4gUXVhcnRvIExpdmUgY2VsbHNcbiAgZGF0YS5vcHRpb25zLmNoYW5uZWxUeXBlID0gQ2hhbm5lbFR5cGUuUG9zdE1lc3NhZ2U7XG5cbiAgLy8gSW5pdGlhbGlzZSB3ZWJSIGFuZCBzZXR1cCBmb3IgUiBjb2RlIGV2YWx1YXRpb25cbiAgbGV0IHdlYlJQcm9taXNlID0gKGFzeW5jICh3ZWJSKSA9PiB7XG4gICAgc3RhdHVzVGV4dC50ZXh0Q29udGVudCA9IGBEb3dubG9hZGluZyB3ZWJSYDtcbiAgICBhd2FpdCB3ZWJSLmluaXQoKTtcblxuICAgIC8vIEluc3RhbGwgcHJvdmlkZWQgbGlzdCBvZiBwYWNrYWdlc1xuICAgIC8vIEVuc3VyZSB3ZWJSIGRlZmF1bHQgcmVwbyBpcyBpbmNsdWRlZFxuICAgIGRhdGEucGFja2FnZXMucmVwb3MucHVzaChcImh0dHBzOi8vcmVwby5yLXdhc20ub3JnXCIpXG4gICAgYXdhaXQgZGF0YS5wYWNrYWdlcy5wa2dzLm1hcCgocGtnKSA9PiAoKSA9PiB7XG4gICAgICBzdGF0dXNUZXh0LnRleHRDb250ZW50ID0gYERvd25sb2FkaW5nIHBhY2thZ2U6ICR7cGtnfWA7XG4gICAgICByZXR1cm4gd2ViUi5ldmFsUlZvaWQoYFxuICAgICAgICB3ZWJyOjppbnN0YWxsKHBrZywgcmVwb3MgPSByZXBvcylcbiAgICAgICAgbGlicmFyeShwa2csIGNoYXJhY3Rlci5vbmx5ID0gVFJVRSlcbiAgICAgIGAsIHsgZW52OiB7XG4gICAgICAgIHBrZzogcGtnLFxuICAgICAgICByZXBvczogZGF0YS5wYWNrYWdlcy5yZXBvcyxcbiAgICAgIH19KTtcbiAgICB9KS5yZWR1Y2UoKGN1ciwgbmV4dCkgPT4gY3VyLnRoZW4obmV4dCksIFByb21pc2UucmVzb2x2ZSgpKTtcblxuICAgIC8vIERvd25sb2FkIGFuZCBpbnN0YWxsIHJlc291cmNlc1xuICAgIGF3YWl0IGZpbGVzLm1hcCgoZmlsZSkgPT4gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbmFtZSA9IGZpbGUuc3Vic3RyaW5nKGZpbGUubGFzdEluZGV4T2YoJy8nKSArIDEpO1xuICAgICAgc3RhdHVzVGV4dC50ZXh0Q29udGVudCA9IGBEb3dubG9hZGluZyByZXNvdXJjZTogJHtuYW1lfWA7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGZpbGUpO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbid0IGRvd25sb2FkIFxcYCR7ZmlsZX1cXGAuIEVycm9yICR7cmVzcG9uc2Uuc3RhdHVzfTogXCIke3Jlc3BvbnNlLnN0YXR1c1RleHR9XCIuYCk7XG4gICAgICB9XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuYXJyYXlCdWZmZXIoKTtcblxuICAgICAgLy8gU3RvcmUgVVJMcyBpbiB0aGUgY3dkIHdpdGhvdXQgYW55IHN1YmRpcmVjdG9yeSBzdHJ1Y3R1cmVcbiAgICAgIGlmIChmaWxlLmluY2x1ZGVzKFwiOi8vXCIpKSB7XG4gICAgICAgIGZpbGUgPSBuYW1lO1xuICAgICAgfVxuXG4gICAgICAvLyBDb2xsYXBzZSBoaWdoZXIgZGlyZWN0b3J5IHN0cnVjdHVyZVxuICAgICAgZmlsZSA9IGNvbGxhcHNlUGF0aChmaWxlKTtcblxuICAgICAgLy8gQ3JlYXRlIGRpcmVjdG9yeSB0cmVlLCBpZ25vcmluZyBcImRpcmVjdG9yeSBleGlzdHNcIiBWRlMgZXJyb3JzXG4gICAgICBjb25zdCBwYXJ0cyA9IGZpbGUuc3BsaXQoJy8nKS5zbGljZSgwLCAtMSk7XG4gICAgICBsZXQgcGF0aCA9ICcnO1xuICAgICAgd2hpbGUgKHBhcnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcGF0aCArPSBwYXJ0cy5zaGlmdCgpICsgJy8nO1xuICAgICAgICBjb25zdCBhbmFseXNpcyA9IGF3YWl0IHdlYlIuRlMuYW5hbHl6ZVBhdGgocGF0aCk7XG4gICAgICAgIGlmICghYW5hbHlzaXMuZXhpc3RzKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHdlYlIuRlMubWtkaXIocGF0aCk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGaWxlc3lzdGVtIEVycm9yOiBcIiR7ZS5tZXNzYWdlfVwiLmApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBXcml0ZSB0aGlzIGZpbGUgdG8gdGhlIFZGU1xuICAgICAgcmV0dXJuIGF3YWl0IHdlYlIuRlMud3JpdGVGaWxlKGZpbGUsIG5ldyBVaW50OEFycmF5KGRhdGEpKTtcbiAgICB9KS5yZWR1Y2UoKGN1ciwgbmV4dCkgPT4gY3VyLnRoZW4obmV4dCksIFByb21pc2UucmVzb2x2ZSgpKTtcblxuICAgIHN0YXR1c1RleHQudGV4dENvbnRlbnQgPSBgSW5zdGFsbGluZyB3ZWJSIHNoaW1zYDtcbiAgICBhd2FpdCB3ZWJSLmV2YWxSVm9pZChgd2Vicjo6c2hpbV9pbnN0YWxsKClgKTtcblxuICAgIHN0YXR1c1RleHQudGV4dENvbnRlbnQgPSBgV2ViUiBlbnZpcm9ubWVudCBzZXR1cGA7XG4gICAgYXdhaXQgc2V0dXBSKHdlYlIsIGRhdGEpO1xuXG4gICAgc3RhdHVzVGV4dC5yZW1vdmUoKTtcbiAgICBpZiAoc3RhdHVzQ29udGFpbmVyLmNoaWxkcmVuLmxlbmd0aCA9PSAwKSB7XG4gICAgICBzdGF0dXNDb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmUoKTtcbiAgICB9XG4gICAgcmV0dXJuIHdlYlI7XG4gIH0pKG5ldyBXZWJSKGRhdGEub3B0aW9ucykpO1xuXG4gIC8vIEtlZXAgdHJhY2sgb2YgaW5pdGlhbCBPSlMgYmxvY2sgcmVuZGVyXG4gIGNvbnN0IHJlbmRlcmVkT2pzID0ge307XG5cbiAgY29uc3QgcHJvY2VzcyA9IGFzeW5jIChjb250ZXh0LCBpbnB1dHMpID0+IHtcbiAgICBjb25zdCB3ZWJSID0gYXdhaXQgd2ViUlByb21pc2U7XG4gICAgY29uc3QgZXZhbHVhdG9yID0gbmV3IFdlYlJFdmFsdWF0b3Iod2ViUiwgY29udGV4dClcbiAgICBhd2FpdCBldmFsdWF0b3IucHJvY2VzcyhpbnB1dHMpO1xuICAgIHJldHVybiBldmFsdWF0b3IuY29udGFpbmVyO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBwcm9jZXNzLFxuICAgIHdlYlJQcm9taXNlLFxuICAgIHJlbmRlcmVkT2pzLFxuICB9O1xufVxuIn1dfQ==
</script>
<div id="exercise-loading-indicator" class="exercise-loading-indicator d-none d-flex align-items-center gap-2">
<div id="exercise-loading-status" class="d-flex gap-2">

</div>
<div class="spinner-grow spinner-grow-sm">

</div>
</div>
<script type="vfs-file">
W10=
</script>
</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">
<p><a href="https://ai.lange-analytics.com/htmlbook//LinRegr.html" target="_blank">Textbook </a></p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="LinRegr_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="LinRegr_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="LinRegr_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="LinRegr_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="LinRegr_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="LinRegr_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="LinRegr_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="LinRegr_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="LinRegr_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="LinRegr_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="LinRegr_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': false,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true,"theme":"whiteboard","boardmarkerWidth":2.7},
'smaller': true,
 
        // Display controls in the bottom right corner
        controls: true,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script type="ojs-module-contents">
    eyJjb250ZW50cyI6W119
    </script>
    <script type="module">
    if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
    window._ojs.paths.runtimeToDoc = "../../..";
    window._ojs.paths.runtimeToRoot = "../../../..";
    window._ojs.paths.docToRoot = "..";
    window._ojs.selfContained = false;
    window._ojs.runtime.interpretFromScriptTags();
    </script>
    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
          const outerScaffold = trigger.parentElement.cloneNode(true);
          const codeEl = outerScaffold.querySelector('code');
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>